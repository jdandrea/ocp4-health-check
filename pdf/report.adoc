:author: Red Hat Consulting
:customer: Innovapost
:toc:
:numbered:
:doctype: book
:imagesdir: ../images/
:stylesdir: ../styles/
:listing-caption: Listing
:pdf-page-size: A4
:pdf-style: redhat
:pdf-stylesdir: styles/
:pdf-fontsdir: fonts/

= OpenShift 4 Health Check Report


== Executive Summary 

`Red Hat Consulting` has been engaged to conduct a Health Check analysis at `{customer}'s` Openshift Container Platform 4 for the `Non-Production` cluster. The Openshift Health Check tool is designed to proactively identify problems in all areas of the cluster that might impact the platform's functionality, performance, configuration, and overall utilization. 

The Health Check covers all the relevant sections of the OCP cluster from the Infrastructure and Applications and focuses on presenting only information that needs to have some attention, providing supporting documentation for the findings. The Openshift Health Check is a fully automated tool that gathers pertinent information for consultants to work with you on implementing recommendations and possible action items in your environment.

> Result: PASS



[%header,cols="2,^1,^1,^1",width=75%,align=center]
|===
|Area|Passed|Failed|Review
|commons       |2         |0      |0
|nodes         |6           |0        |1
|machines      |5        |0     |2
|etcd          |1            |0         |3
|pods          |1            |0         |5
|security      |4        |2     |8
|storage       |6         |0      |6
|performance   |0     |0  |4
|logging       |0         |0      |1
|monitoring    |0      |1   |5
|network       |0         |1      |11
|operators     |2       |0    |3
|mesh          |0            |0         |0
|applications  |3    |2 |0
|===


== Results CheckList
[%header,%autowidth,width=80%,align=center]
|===
|Area|Result
|Versions|PASS
|Components status|PASS
|Cluster Nodes Status|PASS
|Cluster Nodes Conditions master|PASS
|Cluster Nodes Conditions worker|PASS
|Cluster Nodes Conditions infra|PASS
|Cluster Nodes Capacity|REVIEW
|Cluster Resource Quotas|PASS
|Cluster Service Versions|PASS
|Machine Information|PASS
|Machinesets Information|PASS
|Machine Configs|PASS
|Machine Config Pools|PASS
|Machine Auto Scalers|REVIEW
|Cluster Auto Scalers|REVIEW
|Machine Health Checks|PASS
|etcd pods info|REVIEW
|Failing members in the cluster|PASS
|Endpoints status|REVIEW
|Endpoints Health|REVIEW
|Failing pods|PASS
|Constanstly restarted pods|REVIEW
|Long running pods|REVIEW
|Pod Disruption Budget|REVIEW
|Pods in default namespace|REVIEW
|Pods per node|REVIEW
|Pending CSRs|PASS
|Cluster Identities|REVIEW
|Identities grants|REVIEW
|Rolebindings|REVIEW
|Cluster Rolebindings|REVIEW
|Kubeadmin Secret|FAIL
|Identity Providers|REVIEW
|Cluster Authentications|REVIEW
|Kubelet Configurations|REVIEW
|Cluster Subscriptions from non-stable channels|FAIL
|Cluster Subscriptions Catalog Health|PASS
|Cluster Subscriptions Conditions|PASS
|WebHooks|REVIEW
|API Versions|PASS
|PV Status Failed|PASS
|PV Status Pending|PASS
|PV Status Released|PASS
|PVC Status Lost|PASS
|PVC Status Pending|PASS
|Storage Classes|REVIEW
|Quotas|REVIEW
|Volume Snapshots Age|PASS
|CSI Drivers|REVIEW
|CSI Nodes|REVIEW
|Feature Gates|REVIEW
|Horizontal Pod AutoScalers|REVIEW
|Nodes Memory Utilization|REVIEW
|Nodes CPU Utilization|REVIEW
|Pods Memory Utilization|REVIEW
|Pods CPU Utilization|REVIEW
|Logging Resources|REVIEW
|Prometheus Status|REVIEW
|Prometheus Rules|REVIEW
|Sevice Monitors|REVIEW
|Pod Monitors|REVIEW
|Alert Managers|REVIEW
|Monitoring Agents & Dashboards|FAIL
|Enabled Networks|REVIEW
|Network Policies|REVIEW
|Cluster Networks|REVIEW
|Host Subnets|REVIEW
|Cluster Proxy|REVIEW
|Network Endpoints|REVIEW
|Routes|REVIEW
|Egress Network Policy|REVIEW
|Ingress Controllers|REVIEW
|Ingresses|REVIEW
|Ingress Controller Pods|REVIEW
|Pod Network Connectivity Check|FAIL
|Degraded Cluster Operators|PASS
|Unavailable Cluster Operators|PASS
|Cluster Services Versions|REVIEW
|Operator Groups|REVIEW
|Operator Sources|REVIEW
|Application Deployment|PASS
|Non-Ready Deployments|FAIL
|Unavailable Deployments|FAIL
|Inactive projects|PASS
|Failed Builds|PASS
|===


== commons

=== Versions

.Red Hat OpenShift Container Platform Life Cycle Policy


https://access.redhat.com/support/policy/updates/openshift[Reference Documentation]

----
Client Version: 4.11.0-202210250857.p0.g142cb44.assembly.stream-142cb44
Kustomize Version: v4.5.4
Server Version: 4.11.12
Kubernetes Version: v1.24.6+5157800
----
=== Components status

.ComponentStatus (and ComponentStatusList) holds the cluster validation info. Deprecated: This API is deprecated in v1.19+


https://docs.openshift.com/container-platform/4.11/rest_api/metadata_apis/componentstatus-v1.html[Reference Documentation]

----
NAME                 STATUS    MESSAGE                         ERROR
controller-manager   Healthy   ok                              
scheduler            Healthy   ok                              
etcd-3               Healthy   {"health":"true","reason":""}   
etcd-0               Healthy   {"health":"true","reason":""}   
etcd-1               Healthy   {"health":"true","reason":""}   
etcd-2               Healthy   {"health":"true","reason":""}   
----
== nodes

=== Cluster Nodes Status

----
All node conditions are Ready!
----
=== Cluster Node Conditions

==== master Nodes

==== worker Nodes

==== infra Nodes

=== Nodes Capacity

[%header,cols='3,1,1,1,2,2']
|===
|NODE|TYPE|OS|CPU|MEM|STORAGE
|master1.npd-ocp-dc.cpggpc.ca|master|CoreOS|16|125293548Ki|32565328Ki
|master2.npd-ocp-dc.cpggpc.ca|master|CoreOS|16|125293548Ki|32565316Ki
|master3.npd-ocp-dc.cpggpc.ca|master|CoreOS|16|125293548Ki|32565328Ki
|storage1.npd-ocp-dc.cpggpc.ca|worker|CoreOS|32|261608428Ki|65590544Ki
|storage2.npd-ocp-dc.cpggpc.ca|worker|CoreOS|32|261608428Ki|65590544Ki
|storage3.npd-ocp-dc.cpggpc.ca|worker|CoreOS|32|261608428Ki|65590544Ki
|worker1.npd-ocp-dc.cpggpc.ca|worker|CoreOS|32|209179628Ki|263515200Ki
|worker2.npd-ocp-dc.cpggpc.ca|worker|CoreOS|32|209179628Ki|263773248Ki
|infra1.npd-ocp-dc.cpggpc.ca|infra|CoreOS|32|209179628Ki|65592504Ki
|infra2.npd-ocp-dc.cpggpc.ca|infra|CoreOS|32|209179628Ki|65590544Ki
|infra3.npd-ocp-dc.cpggpc.ca|infra|CoreOS|32|209179628Ki|65592504Ki
|===
=== Custom Resource Definitions

.A custom resource definition (CRD) object defines a new, unique object type, called a kind, in the cluster and lets the Kubernetes API server handle its entire lifecycle.


https://docs.openshift.com/container-platform/4.11/operators/understanding/crds/crd-extending-api-with-crds.html[Reference Documentation]

=== Cluster Resource Quotas

.A multi-project quota, defined by a ClusterResourceQuota object, allows quotas to be shared across multiple projects.


https://docs.openshift.com/container-platform/4.11/applications/quotas/quotas-setting-across-multiple-projects.html[Reference Documentation]

----
----
=== Cluster Service Versions

.A multi-project quota, defined by a ClusterResourceQuota object, allows quotas to be shared across multiple projects.


https://docs.openshift.com/container-platform/4.11/applications/quotas/quotas-setting-across-multiple-projects.html[Reference Documentation]

----
NAMESPACE                                          NAME                                              DISPLAY                       VERSION                 REPLACES                                          PHASE
----
== machines

=== Machine Information

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

----
----
=== Machinesets Information

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

----
----
=== Machine Configs

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

----
----
=== Machine Config Pools

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

----
----
=== Machine Auto Scalers

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

----
----
=== Cluster Auto Scalers

.Using machine management you can perform auto-scaling based on specific workload policies.


https://docs.openshift.com/container-platform/4.11/machine_management/index.html[Reference Documentation]

=== Machine Health Checks

.Machine health checks automatically repair unhealthy machines in a particular machine pool.


https://docs.openshift.com/container-platform/4.11/machine_management/deploying-machine-health-checks.html#machine-health-checks-about_deploying-machine-health-checks[Reference Documentation]

----
NAMESPACE NAME MAXUNHEALTHY EXPECTEDMACHINES CURRENTHEALTHY
----
== etcd

=== etcd pods info

.For large and dense clusters, etcd can suffer from poor performance if the keyspace grows too large and exceeds the space quota.


https://docs.openshift.com/container-platform/4.11/scalability_and_performance/recommended-host-practices.html#recommended-etcd-practices_recommended-host-practices[Reference Documentation]

----
NAME                                READY   STATUS    RESTARTS   AGE
etcd-master1.npd-ocp-dc.cpggpc.ca   5/5     Running   0          16d
etcd-master2.npd-ocp-dc.cpggpc.ca   5/5     Running   0          16d
etcd-master3.npd-ocp-dc.cpggpc.ca   5/5     Running   0          16d
----
=== Failing members in the cluster

.For large and dense clusters, etcd can suffer from poor performance if the keyspace grows too large and exceeds the space quota.


https://docs.openshift.com/container-platform/4.11/scalability_and_performance/recommended-host-practices.html#recommended-etcd-practices_recommended-host-practices[Reference Documentation]

[%header, %autowidth]
|===
|===
=== Endpoints status

.Health check should be enabled on MachineConfig and routers endpoints.


https://docs.openshift.com/container-platform/4.11/networking/verifying-connectivity-endpoint.html[Reference Documentation]

[%header, %autowidth]
|===
|          ENDPOINT          |        ID        | VERSION | DB SIZE | IS LEADER | IS LEARNER | RAFT TERM | RAFT INDEX | RAFT APPLIED INDEX | ERRORS
| https://10.237.157.42:2379 |  6131cdefa74cc52 |   3.5.5 |  428 MB |     false |      false |        18 |   53149175 |           53149175 |       
| https://10.237.157.41:2379 | 5a605654c65680df |   3.5.5 |  447 MB |     false |      false |        18 |   53149175 |           53149175 |       
| https://10.237.157.43:2379 | 7036aa74d2e1d611 |   3.5.5 |  429 MB |      true |      false |        18 |   53149175 |           53149175 |       
|===
=== Endpoints Health

.Health check should be enabled on MachineConfig and routers endpoints.


https://docs.openshift.com/container-platform/4.11/networking/verifying-connectivity-endpoint.html[Reference Documentation]

[%header, %autowidth]
|===
|          ENDPOINT          | HEALTH |    TOOK    | ERROR
| https://10.237.157.43:2379 |   true | 7.832373ms |      
| https://10.237.157.41:2379 |   true | 7.685952ms |      
| https://10.237.157.42:2379 |   true | 8.684519ms |      
|===
== pods

=== Failing pods

.A pod, is one or more containers deployed together on one host. Pods are the rough equivalent of a machine instance to a container.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-viewing.html[Reference Documentation]

----
NAMESPACE  NAME  READY  STATUS  RESTARTS  AGE
----
=== Constanstly restarted pods

.A pod, is one or more containers deployed together on one host. Pods are the rough equivalent of a machine instance to a container.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-viewing.html[Reference Documentation]

----
openshift-storage  csi-rbdplugin-jnh6v     4/4  Running  4  6d3h
openshift-storage  csi-cephfsplugin-v6w4f  3/3  Running  3  6d3h
openshift-sdn      sdn-vcdjk               2/2  Running  2  16d
openshift-sdn      sdn-rm7ph               2/2  Running  2  16d
openshift-sdn      sdn-ngpxr               2/2  Running  2  16d
openshift-sdn      sdn-lhpd5               2/2  Running  2  16d
openshift-sdn      sdn-h7ddt               2/2  Running  2  16d
openshift-sdn      sdn-g7fb9               2/2  Running  2  16d
openshift-sdn      sdn-dmpxh               2/2  Running  2  16d
openshift-sdn      sdn-controller-t65q4    2/2  Running  2  16d
----
=== Long running pods

.A pod, is one or more containers deployed together on one host. Pods are the rough equivalent of a machine instance to a container.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-viewing.html[Reference Documentation]

----
openshift-marketplace          certified-operators-shvxr             1/1  Running  0  132m
openshift-service-ca-operator  service-ca-operator-86d5fb7cb8-lgjg2  1/1  Running  0  16d
openshift-service-ca           service-ca-988677dd8-qslpf            1/1  Running  0  16d
openshift-sdn                  sdn-vcdjk                             2/2  Running  2  16d
openshift-sdn                  sdn-rm7ph                             2/2  Running  2  16d
openshift-sdn                  sdn-ngpxr                             2/2  Running  2  16d
openshift-sdn                  sdn-lhpd5                             2/2  Running  2  16d
openshift-sdn                  sdn-h7ddt                             2/2  Running  2  16d
openshift-sdn                  sdn-g7fb9                             2/2  Running  2  16d
openshift-sdn                  sdn-dmpxh                             2/2  Running  2  16d
----
=== Pod Disruption Budget

.PodDisruptionBudget is an API object that specifies the minimum number or percentage of replicas that must be up at a time.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-configuring.html#nodes-pods-configuring-pod-distruption-about_nodes-pods-configuring[Reference Documentation]

----
NAMESPACE                             NAME                                              MIN  AVAILABLE  MAX  UNAVAILABLE  ALLOWED  DISRUPTIONS  AGE
openshift-apiserver                   openshift-apiserver-pdb                           N/A  1          1    41d
openshift-cluster-storage-operator    csi-snapshot-controller-pdb                       N/A  1          1    41d
openshift-cluster-storage-operator    csi-snapshot-webhook-pdb                          N/A  1          1    41d
openshift-console                     console                                           N/A  1          1    16d
openshift-console                     downloads                                         N/A  1          1    16d
openshift-etcd                        etcd-guard-pdb                                    2    N/A        1    16d
openshift-image-registry              image-registry                                    0    N/A        1    23d
openshift-ingress                     router-default                                    N/A  50%        2    41d
openshift-kube-apiserver              kube-apiserver-guard-pdb                          2    N/A        1    41d
openshift-kube-controller-manager     kube-controller-manager-guard-pdb                 2    N/A        1    41d
openshift-kube-scheduler              openshift-kube-scheduler-guard-pdb                2    N/A        1    41d
openshift-monitoring                  alertmanager-main                                 N/A  1          1    41d
openshift-monitoring                  prometheus-adapter                                1    N/A        1    41d
openshift-monitoring                  prometheus-k8s                                    1    N/A        1    41d
openshift-monitoring                  prometheus-operator-admission-webhook             1    N/A        1    16d
openshift-monitoring                  thanos-querier-pdb                                1    N/A        1    41d
openshift-nmstate                     nmstate-webhook                                   1    N/A        1    35d
openshift-oauth-apiserver             oauth-apiserver-pdb                               N/A  1          1    41d
openshift-operator-lifecycle-manager  packageserver-pdb                                 N/A  1          1    41d
openshift-storage                     rook-ceph-mds-ocs-storagecluster-cephfilesystem   1    N/A        1    6d3h
openshift-storage                     rook-ceph-mon-pdb                                 N/A  1          1    6d3h
openshift-storage                     rook-ceph-osd-host-storage2-npd-ocp-dc-cpggpc-ca  N/A  0          0    6d2h
----
=== Pods in default namespace

.Pods in the default namespace are often installed by mistake or misconfigurations.

----
----
=== Pods per node

----
  13 infra3.npd-ocp-dc.cpggpc.ca
  16 infra2.npd-ocp-dc.cpggpc.ca
  20 storage1.npd-ocp-dc.cpggpc.ca
  22 infra1.npd-ocp-dc.cpggpc.ca
  24 storage3.npd-ocp-dc.cpggpc.ca
  25 storage2.npd-ocp-dc.cpggpc.ca
  25 worker1.npd-ocp-dc.cpggpc.ca
  42 worker2.npd-ocp-dc.cpggpc.ca
  45 master1.npd-ocp-dc.cpggpc.ca
  61 master2.npd-ocp-dc.cpggpc.ca
  62 master3.npd-ocp-dc.cpggpc.ca
----
== security

=== Pending CSRs

.When you add machines to a cluster, certificate signing requests (CSRs) are generated that you must confirm and approve.


https://docs.openshift.com/container-platform/4.11/machine_management/user_infra/adding-aws-compute-user-infra.html#installation-approve-csrs_adding-aws-compute-user-infra[Reference Documentation]

----
----
=== Cluster Identities

.By default, only a kubeadmin user exists on your cluster. Identity providers create a Custom Resource that describes that identity provider and add it to the cluster.


https://docs.openshift.com/container-platform/4.11/authentication/identity_providers/configuring-htpasswd-identity-provider.html#identity-provider-overview_configuring-htpasswd-identity-provider[Reference Documentation]

----
NAME                                              IDP NAME   IDP USER NAME                                 USER NAME                                     USER UID
AAD:ACyXkq36J-DZS4lEdZg3VGVUbbj8WuzP95ylDBGIaqI   AAD        ACyXkq36J-DZS4lEdZg3VGVUbbj8WuzP95ylDBGIaqI   ACyXkq36J-DZS4lEdZg3VGVUbbj8WuzP95ylDBGIaqI   3bceb80b-539e-4569-adf6-092e99665bfa
AAD:KKzFAxtzkSBqWz7kqe1QjYKtPn4HTq3c6E7bDw3Mx44   AAD        KKzFAxtzkSBqWz7kqe1QjYKtPn4HTq3c6E7bDw3Mx44   KKzFAxtzkSBqWz7kqe1QjYKtPn4HTq3c6E7bDw3Mx44   fc12c433-5af1-4dea-838d-6d861a6b214e
AAD:xLcCf03OWzrrT9IvMpWWB3MYV6lJQ1fYp4Dvd6P5ygw   AAD        xLcCf03OWzrrT9IvMpWWB3MYV6lJQ1fYp4Dvd6P5ygw   xLcCf03OWzrrT9IvMpWWB3MYV6lJQ1fYp4Dvd6P5ygw   ad3bcad0-1be6-45c2-a7f0-1159aa096fa1
----
=== Identities grants

.The OpenShift Container Platform control plane includes a built-in OAuth server. Developers and administrators obtain OAuth access tokens to authenticate themselves to the API.


https://docs.openshift.com/container-platform/4.11/post_installation_configuration/preparing-for-users.html[Reference Documentation]

==== Identities who can create users
----
Users:  system:admin
        system:serviceaccount:openshift-apiserver-operator:openshift-apiserver-operator
        system:serviceaccount:openshift-apiserver:openshift-apiserver-sa
        system:serviceaccount:openshift-authentication-operator:authentication-operator
        system:serviceaccount:openshift-authentication:oauth-openshift
        system:serviceaccount:openshift-cluster-storage-operator:cluster-storage-operator
        system:serviceaccount:openshift-cluster-storage-operator:csi-snapshot-controller-operator
        system:serviceaccount:openshift-cluster-version:default
        system:serviceaccount:openshift-config-operator:openshift-config-operator
        system:serviceaccount:openshift-controller-manager-operator:openshift-controller-manager-operator
        system:serviceaccount:openshift-etcd-operator:etcd-operator
        system:serviceaccount:openshift-etcd:installer-sa
        system:serviceaccount:openshift-kube-apiserver-operator:kube-apiserver-operator
        system:serviceaccount:openshift-kube-apiserver:installer-sa
        system:serviceaccount:openshift-kube-apiserver:localhost-recovery-client
        system:serviceaccount:openshift-kube-controller-manager-operator:kube-controller-manager-operator
        system:serviceaccount:openshift-kube-controller-manager:installer-sa
        system:serviceaccount:openshift-kube-controller-manager:localhost-recovery-client
        system:serviceaccount:openshift-kube-scheduler-operator:openshift-kube-scheduler-operator
        system:serviceaccount:openshift-kube-scheduler:installer-sa
        system:serviceaccount:openshift-kube-scheduler:localhost-recovery-client
        system:serviceaccount:openshift-kube-storage-version-migrator-operator:kube-storage-version-migrator-operator
        system:serviceaccount:openshift-kube-storage-version-migrator:kube-storage-version-migrator-sa
        system:serviceaccount:openshift-machine-config-operator:default
        system:serviceaccount:openshift-network-operator:default
        system:serviceaccount:openshift-oauth-apiserver:oauth-apiserver-sa
        system:serviceaccount:openshift-operator-lifecycle-manager:olm-operator-serviceaccount
        system:serviceaccount:openshift-service-ca-operator:service-ca-operator
----
==== Identities who can delete users
----
Users:  system:admin
        system:serviceaccount:kube-system:generic-garbage-collector
        system:serviceaccount:kube-system:namespace-controller
        system:serviceaccount:openshift-apiserver-operator:openshift-apiserver-operator
        system:serviceaccount:openshift-apiserver:openshift-apiserver-sa
        system:serviceaccount:openshift-authentication-operator:authentication-operator
        system:serviceaccount:openshift-authentication:oauth-openshift
        system:serviceaccount:openshift-cluster-storage-operator:cluster-storage-operator
        system:serviceaccount:openshift-cluster-storage-operator:csi-snapshot-controller-operator
        system:serviceaccount:openshift-cluster-version:default
        system:serviceaccount:openshift-config-operator:openshift-config-operator
        system:serviceaccount:openshift-controller-manager-operator:openshift-controller-manager-operator
        system:serviceaccount:openshift-etcd-operator:etcd-operator
        system:serviceaccount:openshift-etcd:installer-sa
        system:serviceaccount:openshift-kube-apiserver-operator:kube-apiserver-operator
        system:serviceaccount:openshift-kube-apiserver:installer-sa
        system:serviceaccount:openshift-kube-apiserver:localhost-recovery-client
        system:serviceaccount:openshift-kube-controller-manager-operator:kube-controller-manager-operator
        system:serviceaccount:openshift-kube-controller-manager:installer-sa
        system:serviceaccount:openshift-kube-controller-manager:localhost-recovery-client
        system:serviceaccount:openshift-kube-scheduler-operator:openshift-kube-scheduler-operator
        system:serviceaccount:openshift-kube-scheduler:installer-sa
        system:serviceaccount:openshift-kube-scheduler:localhost-recovery-client
        system:serviceaccount:openshift-kube-storage-version-migrator-operator:kube-storage-version-migrator-operator
        system:serviceaccount:openshift-kube-storage-version-migrator:kube-storage-version-migrator-sa
        system:serviceaccount:openshift-machine-config-operator:default
        system:serviceaccount:openshift-network-operator:default
        system:serviceaccount:openshift-oauth-apiserver:oauth-apiserver-sa
        system:serviceaccount:openshift-operator-lifecycle-manager:olm-operator-serviceaccount
        system:serviceaccount:openshift-service-ca-operator:service-ca-operator
----
=== Rolebindings

.Binding, or adding, a role to users or groups gives the user or group the access that is granted by the role.


https://docs.openshift.com/container-platform/4.11/post_installation_configuration/preparing-for-users.html#adding-roles_post-install-preparing-for-users[Reference Documentation]

----
NAMESPACE NAME 
 		 ROLE
assisted-installer system:deployers 
 		 ClusterRole/system:deployer
assisted-installer system:image-builders 
 		 ClusterRole/system:image-builder
assisted-installer system:image-pullers 
 		 ClusterRole/system:image-puller
default machine-config-controller-events 
 		 ClusterRole/machine-config-controller-events
default machine-config-daemon-events 
 		 ClusterRole/machine-config-daemon-events
default prometheus-k8s 
 		 Role/prometheus-k8s
default system:deployers 
 		 ClusterRole/system:deployer
default system:image-builders 
 		 ClusterRole/system:image-builder
default system:image-pullers 
 		 ClusterRole/system:image-puller
----
=== Cluster Rolebindings

.Binding, or adding, a role to users or groups gives the user or group the access that is granted by the role.


https://docs.openshift.com/container-platform/4.11/post_installation_configuration/preparing-for-users.html#adding-roles_post-install-preparing-for-users[Reference Documentation]

----
NAME ROLE
system:openshift:controller:template-instance-controller:admin admin
system:openshift:controller:template-instance-finalizer-controller:admin admin
alertmanager-main alertmanager-main
assisted-installer-controller assisted-installer-controller
basic-users basic-user
cloud-controller-manager cloud-controller-manager
cloud-credential-operator-rolebinding cloud-credential-operator-role
cloud-node-manager cloud-node-manager
cluster-admin cluster-admin
cluster-admins cluster-admin
cluster-storage-operator-role cluster-admin
cluster-version-operator cluster-admin
csi-snapshot-controller-operator-role cluster-admin
default-account-cluster-network-operator cluster-admin
default-account-openshift-machine-config-operator cluster-admin
storage-version-migration-migrator cluster-admin
system:openshift:oauth-apiserver cluster-admin
system:openshift:openshift-apiserver cluster-admin
system:openshift:openshift-authentication cluster-admin
system:openshift:operator:authentication cluster-admin
system:openshift:operator:cluster-kube-scheduler-operator cluster-admin
system:openshift:operator:etcd-operator cluster-admin
system:openshift:operator:kube-apiserver-operator cluster-admin
system:openshift:operator:kube-apiserver-recovery cluster-admin
system:openshift:operator:kube-controller-manager-operator cluster-admin
system:openshift:operator:kube-controller-manager-recovery cluster-admin
system:openshift:operator:kube-scheduler-recovery cluster-admin
system:openshift:operator:kube-storage-version-migrator-operator cluster-admin
system:openshift:operator:openshift-apiserver-operator cluster-admin
system:openshift:operator:openshift-config-operator cluster-admin
system:openshift:operator:openshift-controller-manager-operator cluster-admin
system:openshift:operator:openshift-etcd-installer cluster-admin
system:openshift:operator:openshift-kube-apiserver-installer cluster-admin
system:openshift:operator:openshift-kube-controller-manager-installer cluster-admin
system:openshift:operator:openshift-kube-scheduler-installer cluster-admin
system:openshift:operator:service-ca-operator cluster-admin
cluster-autoscaler cluster-autoscaler
cluster-autoscaler-operator cluster-autoscaler-operator
cluster-baremetal-operator cluster-baremetal-operator
default-account-cluster-image-registry-operator cluster-image-registry-operator
cluster-monitoring-operator cluster-monitoring-operator
prometheus-adapter-view cluster-monitoring-view
telemeter-client-view cluster-monitoring-view
cluster-node-tuning-operator cluster-node-tuning-operator
cluster-node-tuning:tuned cluster-node-tuning:tuned
cluster-readers cluster-reader
insights-operator-gather-reader cluster-reader
cluster-samples-operator cluster-samples-operator
cluster-samples-operator-imageconfig-reader cluster-samples-operator-imageconfig-reader
cluster-samples-operator-proxy-reader cluster-samples-operator-proxy-reader
cluster-status-binding cluster-status
console console
console-extensions-reader console-extensions-reader
console-operator console-operator
devworkspace-operator.v0.16.0-0.1666668361.p-79fffdf994 devworkspace-operator.v0.16.0-0.1666668361.p-79fffdf994
devworkspace-operator.v0.16.0-0.1666668361.p-devwork-6b98c6d87b devworkspace-operator.v0.16.0-0.1666668361.p-devwork-6b98c6d87b
devworkspace-webhook-server devworkspace-webhook-server
dns-monitoring dns-monitoring
group-sync-operator.v0.0.20-749756cfc5 group-sync-operator.v0.0.20-749756cfc5
helm-chartrepos-view helm-chartrepos-viewer
insights-operator insights-operator
insights-operator-gather insights-operator-gather
kube-apiserver kube-apiserver
kube-state-metrics kube-state-metrics
kubernetes-nmstate-operator.4.11.0-202211211647-546f44f9cf kubernetes-nmstate-operator.4.11.0-202211211647-546f44f9cf
local-storage-operator.4.11.0-202211072116-65fcd968c4 local-storage-operator.4.11.0-202211072116-65fcd968c4
local-storage-operator.4.11.0-202211072116-698ccb5cd5 local-storage-operator.4.11.0-202211072116-698ccb5cd5
machine-api-controllers machine-api-controllers
machine-api-operator machine-api-operator
machine-api-operator-ext-remediation machine-api-operator-ext-remediation
machine-config-controller machine-config-controller
machine-config-daemon machine-config-daemon
machine-config-server machine-config-server
marketplace-operator marketplace-operator
mcg-operator.v4.11.3-846879ddf9 mcg-operator.v4.11.3-846879ddf9
metrics-daemon-sa-rolebinding metrics-daemon-role
multus multus
multus-admission-controller-webhook multus-admission-controller-webhook
network-diagnostics network-diagnostics
nmstate-handler nmstate-handler
node-exporter node-exporter
ocs-metrics-exporter ocs-metrics-exporter
ocs-operator.v4.11.3-558b85cd8 ocs-operator.v4.11.3-558b85cd8
ocs-operator.v4.11.3-56d949fdd8 ocs-operator.v4.11.3-56d949fdd8
ocs-operator.v4.11.3-575fc6d8bd ocs-operator.v4.11.3-575fc6d8bd
ocs-operator.v4.11.3-586df4b5dd ocs-operator.v4.11.3-586df4b5dd
ocs-operator.v4.11.3-595895b779 ocs-operator.v4.11.3-595895b779
ocs-operator.v4.11.3-5c578b89b5 ocs-operator.v4.11.3-5c578b89b5
ocs-operator.v4.11.3-6849b6c7d9 ocs-operator.v4.11.3-6849b6c7d9
ocs-operator.v4.11.3-74f6866575 ocs-operator.v4.11.3-74f6866575
ocs-operator.v4.11.3-75c69fc9f9 ocs-operator.v4.11.3-75c69fc9f9
ocs-operator.v4.11.3-787c49ccf ocs-operator.v4.11.3-787c49ccf
ocs-operator.v4.11.3-7b857d8f6c ocs-operator.v4.11.3-7b857d8f6c
ocs-operator.v4.11.3-7bc868f9b9 ocs-operator.v4.11.3-7bc868f9b9
ocs-operator.v4.11.3-85f69b585 ocs-operator.v4.11.3-85f69b585
ocs-operator.v4.11.3-96c6f5d6b ocs-operator.v4.11.3-96c6f5d6b
ocs-operator.v4.11.3-bd5d8dd6 ocs-operator.v4.11.3-bd5d8dd6
ocs-operator.v4.11.3-f78b54b5b ocs-operator.v4.11.3-f78b54b5b
odf-csi-addons-operator.v4.11.3-7fd5949496 odf-csi-addons-operator.v4.11.3-7fd5949496
odf-operator.v4.11.3-5d87d7ccb8 odf-operator.v4.11.3-5d87d7ccb8
openshift-csi-snapshot-controller-role openshift-csi-snapshot-controller-runner
openshift-dns openshift-dns
openshift-dns-operator openshift-dns-operator
openshift-ingress-operator openshift-ingress-operator
openshift-ingress-router openshift-ingress-router
openshift-sdn openshift-sdn
openshift-sdn-controller openshift-sdn-controller
openshift-state-metrics openshift-state-metrics
openstack-cloud-controller-manager openstack-cloud-controller-manager
prometheus-adapter prometheus-adapter
prometheus-k8s prometheus-k8s
prometheus-k8s-scheduler-resources prometheus-k8s-scheduler-resources
prometheus-operator prometheus-operator
registry-monitoring registry-monitoring
router-monitoring router-monitoring
self-access-reviewers self-access-reviewer
self-provisioners self-provisioner
console-auth-delegator system:auth-delegator
console-operator-auth-delegator system:auth-delegator
devworkspace-controller-manager-service-system:auth-delegator system:auth-delegator
insights-operator-auth system:auth-delegator
noobaa-operator-service-system:auth-delegator system:auth-delegator
packageserver-service-system:auth-delegator system:auth-delegator
resource-metrics:system:auth-delegator system:auth-delegator
system:openshift:controller:kube-apiserver-check-endpoints-auth-delegator system:auth-delegator
system:basic-user system:basic-user
system:build-strategy-docker-binding system:build-strategy-docker
system:build-strategy-jenkinspipeline-binding system:build-strategy-jenkinspipeline
system:build-strategy-source-binding system:build-strategy-source
system-bootstrap-node-renewal system:certificates.k8s.io:certificatesigningrequests:selfnodeclient
system:controller:attachdetach-controller system:controller:attachdetach-controller
system:controller:certificate-controller system:controller:certificate-controller
system:controller:clusterrole-aggregation-controller system:controller:clusterrole-aggregation-controller
system:controller:cronjob-controller system:controller:cronjob-controller
system:controller:daemon-set-controller system:controller:daemon-set-controller
system:controller:deployment-controller system:controller:deployment-controller
system:controller:disruption-controller system:controller:disruption-controller
system:controller:endpoint-controller system:controller:endpoint-controller
system:controller:endpointslice-controller system:controller:endpointslice-controller
system:controller:endpointslicemirroring-controller system:controller:endpointslicemirroring-controller
system:controller:ephemeral-volume-controller system:controller:ephemeral-volume-controller
system:controller:expand-controller system:controller:expand-controller
system:controller:generic-garbage-collector system:controller:generic-garbage-collector
system:controller:horizontal-pod-autoscaler system:controller:horizontal-pod-autoscaler
system:controller:job-controller system:controller:job-controller
system:controller:namespace-controller system:controller:namespace-controller
system:controller:node-controller system:controller:node-controller
olm-operator-binding-openshift-operator-lifecycle-manager system:controller:operator-lifecycle-manager
system:controller:persistent-volume-binder system:controller:persistent-volume-binder
system:controller:pod-garbage-collector system:controller:pod-garbage-collector
system:controller:pv-protection-controller system:controller:pv-protection-controller
system:controller:pvc-protection-controller system:controller:pvc-protection-controller
system:controller:replicaset-controller system:controller:replicaset-controller
system:controller:replication-controller system:controller:replication-controller
system:controller:resourcequota-controller system:controller:resourcequota-controller
system:controller:root-ca-cert-publisher system:controller:root-ca-cert-publisher
system:controller:route-controller system:controller:route-controller
system:controller:service-account-controller system:controller:service-account-controller
system:controller:service-ca-cert-publisher system:controller:service-ca-cert-publisher
system:controller:service-controller system:controller:service-controller
system:controller:statefulset-controller system:controller:statefulset-controller
system:controller:ttl-after-finished-controller system:controller:ttl-after-finished-controller
system:controller:ttl-controller system:controller:ttl-controller
system:deployer system:deployer
system:discovery system:discovery
system:image-builder system:image-builder
openshift-image-registry-pruner system:image-pruner
system:image-puller system:image-puller
system:kube-controller-manager system:kube-controller-manager
system:kube-dns system:kube-dns
system:kube-scheduler system:kube-scheduler
system:openshift:operator:kube-scheduler:public-2 system:kube-scheduler
system:masters system:master
system:monitoring system:monitoring
system:node system:node
system:node-admin system:node-admin
system:node-admins system:node-admin
system-bootstrap-node-bootstrapper system:node-bootstrapper
system:node-bootstrapper system:node-bootstrapper
system:node-proxier system:node-proxier
system:node-proxiers system:node-proxier
system:oauth-token-deleters system:oauth-token-deleter
system:openshift:controller:build-config-change-controller system:openshift:controller:build-config-change-controller
system:openshift:controller:build-controller system:openshift:controller:build-controller
system:openshift:controller:kube-apiserver-check-endpoints-crd-reader system:openshift:controller:check-endpoints-crd-reader
system:openshift:controller:kube-apiserver-check-endpoints-node-reader system:openshift:controller:check-endpoints-node-reader
system:openshift:controller:cluster-csr-approver-controller system:openshift:controller:cluster-csr-approver-controller
system:openshift:controller:cluster-quota-reconciliation-controller system:openshift:controller:cluster-quota-reconciliation-controller
system:openshift:controller:default-rolebindings-controller system:openshift:controller:default-rolebindings-controller
system:openshift:controller:deployer-controller system:openshift:controller:deployer-controller
system:openshift:controller:deploymentconfig-controller system:openshift:controller:deploymentconfig-controller
system:openshift:controller:horizontal-pod-autoscaler system:openshift:controller:horizontal-pod-autoscaler
system:openshift:controller:image-import-controller system:openshift:controller:image-import-controller
system:openshift:controller:image-trigger-controller system:openshift:controller:image-trigger-controller
system:openshift:controller:machine-approver system:openshift:controller:machine-approver
system:openshift:controller:namespace-security-allocation-controller system:openshift:controller:namespace-security-allocation-controller
system:openshift:controller:origin-namespace-controller system:openshift:controller:origin-namespace-controller
system:openshift:controller:podsecurity-admission-label-syncer-controller system:openshift:controller:podsecurity-admission-label-syncer-controller
system:openshift:controller:pv-recycler-controller system:openshift:controller:pv-recycler-controller
system:openshift:controller:resourcequota-controller system:openshift:controller:resourcequota-controller
system:openshift:controller:service-ca system:openshift:controller:service-ca
system:openshift:controller:service-ingress-ip-controller system:openshift:controller:service-ingress-ip-controller
system:openshift:controller:service-serving-cert-controller system:openshift:controller:service-serving-cert-controller
system:openshift:controller:serviceaccount-controller system:openshift:controller:serviceaccount-controller
system:openshift:controller:serviceaccount-pull-secrets-controller system:openshift:controller:serviceaccount-pull-secrets-controller
system:openshift:controller:template-instance-controller system:openshift:controller:template-instance-controller
system:openshift:controller:template-instance-finalizer-controller system:openshift:controller:template-instance-finalizer-controller
system:openshift:controller:template-service-broker system:openshift:controller:template-service-broker
system:openshift:controller:unidling-controller system:openshift:controller:unidling-controller
system:openshift:discovery system:openshift:discovery
system:openshift:kube-controller-manager:gce-cloud-provider system:openshift:kube-controller-manager:gce-cloud-provider
system:openshift:openshift-controller-manager system:openshift:openshift-controller-manager
system:openshift:openshift-controller-manager:ingress-to-route-controller system:openshift:openshift-controller-manager:ingress-to-route-controller
system:openshift:openshift-controller-manager:update-buildconfig-status system:openshift:openshift-controller-manager:update-buildconfig-status
system:openshift:operator:cloud-controller-manager system:openshift:operator:cloud-controller-manager
system:openshift:public-info-viewer system:openshift:public-info-viewer
system:openshift:scc:restricted-v2 system:openshift:scc:restricted-v2
system:openshift:tokenreview-openshift-controller-manager system:openshift:tokenreview-openshift-controller-manager
system:openshift:useroauthaccesstoken-manager system:openshift:useroauthaccesstoken-manager
system:public-info-viewer system:public-info-viewer
registry-registry-role system:registry
system:scope-impersonation system:scope-impersonation
system:sdn-readers system:sdn-reader
system:service-account-issuer-discovery system:service-account-issuer-discovery
system:volume-scheduler system:volume-scheduler
system:webhooks system:webhook
telemeter-client telemeter-client
thanos-querier thanos-querier
web-terminal.v1.6.0-web-terminal-controller-596ff5ccc web-terminal.v1.6.0-web-terminal-controller-596ff5ccc
multus-whereabouts whereabouts-cni
----
=== Kubeadmin Secret

.The user kubeadmin gets cluster-admin role automatically applied and is treated as the root user for the cluster. After installation and once an identity provider is configured is recommended to remove it.


https://docs.openshift.com/container-platform/4.11/authentication/remove-kubeadmin.html[Reference Documentation]

----
NAME        TYPE     DATA   AGE
kubeadmin   Opaque   1      41d
----
=== Identity Providers

.By default, only a kubeadmin user exists on your cluster. Identity providers create a Custom Resource that describes that identity provider and add it to the cluster.


https://docs.openshift.com/container-platform/4.11/authentication/identity_providers/configuring-htpasswd-identity-provider.html#identity-provider-overview_configuring-htpasswd-identity-provider[Reference Documentation]

----
[
  {
    "mappingMethod": "claim",
    "name": "AAD",
    "openID": {
      "claims": {
        "name": [
          "name"
        ],
        "preferredUsername": [
          "upn"
        ]
      },
      "clientID": "1c2e3213-dbe8-4bef-b80e-0c9099aa77d2",
      "clientSecret": {
        "name": "openid-client-secret-5k7p2"
      },
      "extraScopes": [],
      "issuer": "https://login.microsoftonline.com/75056d76-b628-4488-82b0-80b08b52d854/v2.0"
    },
    "type": "OpenID"
  }
]
----
=== Cluster Authentications

.To interact with OCP, you must first authenticate to the cluster with a user associated in authorization layer by requests to the API.


https://docs.openshift.com/container-platform/4.11/authentication/understanding-authentication.html[Reference Documentation]

----
{
  "include.release.openshift.io/ibm-cloud-managed": "true",
  "include.release.openshift.io/self-managed-high-availability": "true",
  "include.release.openshift.io/single-node-developer": "true",
  "release.openshift.io/create-only": "true"
}
{
  "kubeConfig": {
    "name": "webhook-authentication-integrated-oauth"
  }
}
{
  "integratedOAuthMetadata": {
    "name": "oauth-openshift"
  }
}
----
=== Kubelet Configurations

.OCP uses a KubeletConfig custom resource (CR) to manage the configuration of nodes that creates a managed machine config to override setting on the node.


https://docs.openshift.com/container-platform/4.11/nodes/nodes/nodes-nodes-managing.html[Reference Documentation]

----
{
    "apiVersion": "v1",
    "items": [],
    "kind": "List",
    "metadata": {
        "resourceVersion": ""
    }
}
----
=== Cluster Subscriptions

.Channels define a single event-forwarding and persistence layer. Events can be sent to multiple Knative services by using a subscription.


https://docs.openshift.com/container-platform/4.11/serverless/discover/serverless-channels.html[Reference Documentation]

==== Subscriptions from non-stable channels
----
NAMESPACE                 NAME                                                                         PACKAGE                       SOURCE                CHANNEL
group-sync-operator       group-sync-operator                                                          group-sync-operator           community-operators   alpha
openshift-local-storage   local-storage-operator                                                       local-storage-operator        redhat-operators      stable
openshift-nmstate         kubernetes-nmstate-operator                                                  kubernetes-nmstate-operator   redhat-operators      stable
openshift-operators       devworkspace-operator-fast-redhat-operators-openshift-marketplace            devworkspace-operator         redhat-operators      fast
openshift-operators       web-terminal                                                                 web-terminal                  redhat-operators      fast
openshift-storage         mcg-operator-stable-4.11-redhat-operators-openshift-marketplace              mcg-operator                  redhat-operators      stable-4.11
openshift-storage         ocs-operator-stable-4.11-redhat-operators-openshift-marketplace              ocs-operator                  redhat-operators      stable-4.11
openshift-storage         odf-csi-addons-operator-stable-4.11-redhat-operators-openshift-marketplace   odf-csi-addons-operator       redhat-operators      stable-4.11
openshift-storage         odf-operator                                                                 odf-operator                  redhat-operators      stable-4.11
----
==== Subscriptions Catalog Health
==== Subscriptions Conditions
=== WebHook Configurations

.Webhooks allow Operator authors to intercept, modify, and accept or reject resources before they are saved to the object store and handled by the Operator controller.


https://docs.openshift.com/container-platform/4.11/operators/understanding/olm/olm-webhooks.html[Reference Documentation]

----
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "noobaa-operator-service",
      "namespace": "openshift-storage",
      "path": "/validate",
      "port": 443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "admissionwebhook.noobaa.io",
  "namespaceSelector": {
    "matchLabels": {
      "olm.operatorgroup.uid/53f50185-0af6-4b28-8b2f-68a1fbe7ac26": ""
    }
  },
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "noobaa.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE",
        "UPDATE",
        "DELETE"
      ],
      "resources": [
        "backingstores",
        "namespacestores"
      ],
      "scope": "Namespaced"
    },
    {
      "apiGroups": [
        "noobaa.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE"
      ],
      "resources": [
        "bucketclasses"
      ],
      "scope": "Namespaced"
    },
    {
      "apiGroups": [
        "noobaa.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "noobaaaccounts"
      ],
      "scope": "Namespaced"
    },
    {
      "apiGroups": [
        "noobaa.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "DELETE"
      ],
      "resources": [
        "noobaas"
      ],
      "scope": "Namespaced"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "prometheus-operator-admission-webhook",
      "namespace": "openshift-monitoring",
      "path": "/admission-alertmanagerconfigs/validate",
      "port": 8443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "alertmanagerconfigs.openshift.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "monitoring.coreos.com"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "alertmanagerconfigs"
      ],
      "scope": "Namespaced"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 5
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "cluster-autoscaler-operator",
      "namespace": "openshift-machine-api",
      "path": "/validate-clusterautoscalers",
      "port": 443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "clusterautoscalers.autoscaling.openshift.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "autoscaling.openshift.io"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "clusterautoscalers"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "cluster-autoscaler-operator",
      "namespace": "openshift-machine-api",
      "path": "/validate-machineautoscalers",
      "port": 443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "machineautoscalers.autoscaling.openshift.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "autoscaling.openshift.io"
      ],
      "apiVersions": [
        "v1beta1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "machineautoscalers"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "cluster-baremetal-webhook-service",
      "namespace": "openshift-machine-api",
      "path": "/validate-metal3-io-v1alpha1-provisioning",
      "port": 443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "vprovisioning.kb.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "metal3.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "provisionings"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1beta1",
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "devworkspace-webhookserver",
      "namespace": "openshift-operators",
      "path": "/validate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "validate-exec.devworkspace-controller.svc",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        ""
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CONNECT"
      ],
      "resources": [
        "pods/exec"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1beta1",
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "devworkspace-webhookserver",
      "namespace": "openshift-operators",
      "path": "/validate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "validate-devfile.devworkspace-controller.svc",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "workspace.devfile.io"
      ],
      "apiVersions": [
        "v1alpha2"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "devworkspaces"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "multus-admission-controller",
      "namespace": "openshift-multus",
      "path": "/validate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "multus-validating-config.k8s.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "k8s.cni.cncf.io"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "network-attachment-definitions"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "NoneOnDryRun",
  "timeoutSeconds": 30
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "performance-addon-operator-service",
      "namespace": "openshift-cluster-node-tuning-operator",
      "path": "/validate-performance-openshift-io-v2-performanceprofile",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "vwb.performance.openshift.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "performance.openshift.io"
      ],
      "apiVersions": [
        "v2"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "performanceprofiles"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "prometheus-operator-admission-webhook",
      "namespace": "openshift-monitoring",
      "path": "/admission-prometheusrules/validate",
      "port": 8443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "prometheusrules.openshift.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "monitoring.coreos.com"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "prometheusrules"
      ],
      "scope": "Namespaced"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 5
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "csi-snapshot-webhook",
      "namespace": "openshift-cluster-storage-operator",
      "path": "/volumesnapshot",
      "port": 443
    }
  },
  "failurePolicy": "Ignore",
  "matchPolicy": "Equivalent",
  "name": "volumesnapshotclasses.snapshot.storage.k8s.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "rules": [
    {
      "apiGroups": [
        "snapshot.storage.k8s.io"
      ],
      "apiVersions": [
        "v1beta1",
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "volumesnapshots",
        "volumesnapshotcontents",
        "volumesnapshotclasses"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
----
=== Mutating WebHook Configurations

----
{
  "admissionReviewVersions": [
    "v1beta1",
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "devworkspace-webhookserver",
      "namespace": "openshift-operators",
      "path": "/mutate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "mutate.devworkspace-controller.svc",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "workspace.devfile.io"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1alpha2"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "devworkspaces"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "controller.devfile.io"
      ],
      "apiVersions": [
        "v1alpha1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "devworkspaceroutings",
        "components"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1beta1",
    "v1"
  ],
  "clientConfig": {
    "service": {
      "name": "devworkspace-webhookserver",
      "namespace": "openshift-operators",
      "path": "/mutate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "mutate-ws-resources.devworkspace-controller.svc",
  "namespaceSelector": {},
  "objectSelector": {
    "matchExpressions": [
      {
        "key": "controller.devfile.io/devworkspace_id",
        "operator": "Exists"
      }
    ]
  },
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        ""
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "pods"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        ""
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "services"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "apps"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "deployments"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "networking"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "ingresses"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "networking.k8s.io"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "ingresses"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "batch"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "jobs"
      ],
      "scope": "*"
    },
    {
      "apiGroups": [
        "route.openshift.io"
      ],
      "apiVersions": [
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "routes"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "nmstate-webhook",
      "namespace": "openshift-nmstate",
      "path": "/nodenetworkconfigurationpolicies-mutate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "nodenetworkconfigurationpolicies-mutate.nmstate.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "*"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1beta1",
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "nodenetworkconfigurationpolicies"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "nmstate-webhook",
      "namespace": "openshift-nmstate",
      "path": "/nodenetworkconfigurationpolicies-status-mutate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "nodenetworkconfigurationpolicies-status-mutate.nmstate.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "*"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1beta1",
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "nodenetworkconfigurationpolicies/status"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "nmstate-webhook",
      "namespace": "openshift-nmstate",
      "path": "/nodenetworkconfigurationpolicies-timestamp-mutate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "nodenetworkconfigurationpolicies-timestamp-mutate.nmstate.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "*"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1beta1",
        "v1"
      ],
      "operations": [
        "CREATE",
        "UPDATE"
      ],
      "resources": [
        "nodenetworkconfigurationpolicies",
        "nodenetworkconfigurationpolicies/status"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "nmstate-webhook",
      "namespace": "openshift-nmstate",
      "path": "/nodenetworkconfigurationpolicies-update-validate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "nodenetworkconfigurationpolicies-update-validate.nmstate.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "*"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1beta1",
        "v1"
      ],
      "operations": [
        "UPDATE"
      ],
      "resources": [
        "nodenetworkconfigurationpolicies"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
{
  "admissionReviewVersions": [
    "v1",
    "v1beta1"
  ],
  "clientConfig": {
    "service": {
      "name": "nmstate-webhook",
      "namespace": "openshift-nmstate",
      "path": "/nodenetworkconfigurationpolicies-create-validate",
      "port": 443
    }
  },
  "failurePolicy": "Fail",
  "matchPolicy": "Equivalent",
  "name": "nodenetworkconfigurationpolicies-create-validate.nmstate.io",
  "namespaceSelector": {},
  "objectSelector": {},
  "reinvocationPolicy": "Never",
  "rules": [
    {
      "apiGroups": [
        "*"
      ],
      "apiVersions": [
        "v1alpha1",
        "v1beta1",
        "v1"
      ],
      "operations": [
        "CREATE"
      ],
      "resources": [
        "nodenetworkconfigurationpolicies"
      ],
      "scope": "*"
    }
  ],
  "sideEffects": "None",
  "timeoutSeconds": 10
}
----
=== API Versions

==== Verification of API files permissions
----
/etc/kubernetes/static-pod-resources/kube-apiserver-pod.yaml: [OK]
/etc/kubernetes/static-pod-resources/kube-controller-manager-pod.yaml: [OK]
/etc/kubernetes/static-pod-resources/kube-scheduler-pod.yaml: [OK]
/etc/kubernetes/manifests/etcd-pod.yaml: [OK]
----
== storage

.OCP uses persistent storage known as Persisten Volumes that allow you to access storage devices.


https://docs.openshift.com/container-platform/4.11/storage/understanding-persistent-storage.html#persistent-storage-overview_understanding-persistent-storage[Reference Documentation]

=== Failed Persistent Volumes

----
----
=== Pending Persistent Volumes

----
----
=== Released Persistent Volumes

----
----
.OCP uses persistent storage claims to control request of persistent volumes.


https://docs.openshift.com/container-platform/4.11/storage/understanding-persistent-storage.html#persistent-volume-claims_understanding-persistent-storage[Reference Documentation]

=== Lost Persistent Volumes Claims

----
----
=== Pending Persistent Volumes Claims

----
----
=== Storage Classes

.Claims can optionally request a specific storage class. Only PVs of the requested class, ones with the same storageClassName as the PVC, can be bound to the PVC.


https://docs.openshift.com/container-platform/4.11/storage/understanding-persistent-storage.html#pvc-storage-class_understanding-persistent-storage[Reference Documentation]

----
NAME                          PROVISIONER                             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
localblock                    kubernetes.io/no-provisioner            Delete          WaitForFirstConsumer   false                  6d3h
ocs-storagecluster-ceph-rbd   openshift-storage.rbd.csi.ceph.com      Delete          Immediate              true                   6d2h
ocs-storagecluster-ceph-rgw   openshift-storage.ceph.rook.io/bucket   Delete          Immediate              false                  6d3h
ocs-storagecluster-cephfs     openshift-storage.cephfs.csi.ceph.com   Delete          Immediate              true                   6d3h
openshift-storage.noobaa.io   openshift-storage.noobaa.io/obc         Delete          Immediate              false                  6d2h
----
=== Quotas

.A resource quota provides constraints that limit aggregate resource consumption per project. It can limit the total amount of compute resources and storage that might be consumed by resources in that project.


https://docs.openshift.com/container-platform/4.11/applications/quotas/quotas-setting-per-project.html[Reference Documentation]

----
NAMESPACE                NAME                            AGE   REQUEST                                                              LIMIT
openshift-host-network   host-network-namespace-quotas   41d   count/daemonsets.apps: 0/0, count/deployments.apps: 0/0, pods: 0/0   limits.cpu: 0/0, limits.memory: 0/0
----
=== Volume Snapshots Age

.A snapshot represents the state of the storage volume in a cluster at a particular point in time. Volume snapshots can be used to provision a new volume.


https://docs.openshift.com/container-platform/4.11/storage/container_storage_interface/persistent-storage-csi-snapshots.html[Reference Documentation]

----
----
=== CSI Drivers

.CSI Drivers provision inline ephemeral volumes that contain the contents of Secret or ConfigMap objects.


https://docs.openshift.com/container-platform/4.11/storage/container_storage_interface/ephemeral-storage-shared-resource-csi-driver-operator.html[Reference Documentation]

----
NAME                                   ATTACHREQUIRED  PODINFOONMOUNT  STORAGECAPACITY  TOKENREQUESTS  REQUIRESREPUBLISH  MODES       AGE
openshift-storage.cephfs.csi.ceph.com  true            false           false            <unset>        false              Persistent  6d3h
openshift-storage.rbd.csi.ceph.com     true            false           false            <unset>        false              Persistent  6d3h
----
=== CSI Nodes

----
NAME                           DRIVERS  AGE
infra1.npd-ocp-dc.cpggpc.ca    0        23d
infra2.npd-ocp-dc.cpggpc.ca    0        23d
infra3.npd-ocp-dc.cpggpc.ca    0        23d
master1.npd-ocp-dc.cpggpc.ca   0        41d
master2.npd-ocp-dc.cpggpc.ca   0        41d
master3.npd-ocp-dc.cpggpc.ca   0        41d
storage1.npd-ocp-dc.cpggpc.ca  2        22d
storage2.npd-ocp-dc.cpggpc.ca  2        22d
storage3.npd-ocp-dc.cpggpc.ca  2        22d
worker1.npd-ocp-dc.cpggpc.ca   2        23d
worker2.npd-ocp-dc.cpggpc.ca   2        23d
----
=== Feature Gates

.FeatureGates enable specific feature sets in your cluster. A feature set is a collection of OpenShift Container Platform features that are not enabled by default.


https://docs.openshift.com/container-platform/4.11/nodes/clusters/nodes-cluster-enabling-features.html[Reference Documentation]

----
----
=== Horizontal Pod AutoScalers

.You can create a horizontal pod autoscaler to specify the minimum and maximum number of pods you want to run, as well as the CPU utilization or memory utilization your pods should target.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-autoscaling.html[Reference Documentation]

----
NAMESPACE           NAME              REFERENCE                    TARGETS   MINPODS   MAXPODS   REPLICAS   AGE
openshift-storage   noobaa-endpoint   Deployment/noobaa-endpoint   0%/80%    1         2         1          6d2h
----
== performance

=== Nodes Memory Utilization

.All nodes meet the minimum requirements and are currently allocated to an amount appropriate to handle the workloads deployed to the cluster


https://docs.openshift.com/container-platform/4.11/scalability_and_performance/planning-your-environment-according-to-object-maximums.html#cluster-maximums-environment_object-limits[Reference Documentation]

----
master3.npd-ocp-dc.cpggpc.ca 14151Mi 46%
master2.npd-ocp-dc.cpggpc.ca 13872Mi 45%
master1.npd-ocp-dc.cpggpc.ca 10524Mi 34%
infra1.npd-ocp-dc.cpggpc.ca 6627Mi 10%
storage2.npd-ocp-dc.cpggpc.ca 6150Mi 9%
infra2.npd-ocp-dc.cpggpc.ca 5925Mi 9%
storage3.npd-ocp-dc.cpggpc.ca 5571Mi 8%
storage1.npd-ocp-dc.cpggpc.ca 3620Mi 5%
infra3.npd-ocp-dc.cpggpc.ca 2571Mi 4%
worker2.npd-ocp-dc.cpggpc.ca 5384Mi 2%
worker1.npd-ocp-dc.cpggpc.ca 5149Mi 2%
----
=== Nodes CPU Utilization

.All nodes meet the minimum requirements and are currently allocated to an amount appropriate to handle the workloads deployed to the cluster


https://docs.openshift.com/container-platform/4.11/scalability_and_performance/planning-your-environment-according-to-object-maximums.html#cluster-maximums-environment_object-limits[Reference Documentation]

----
master3.npd-ocp-dc.cpggpc.ca 2420m 15%
master2.npd-ocp-dc.cpggpc.ca 1128m 7%
master1.npd-ocp-dc.cpggpc.ca 603m 3%
infra1.npd-ocp-dc.cpggpc.ca 1109m 3%
worker2.npd-ocp-dc.cpggpc.ca 445m 1%
worker1.npd-ocp-dc.cpggpc.ca 437m 1%
infra2.npd-ocp-dc.cpggpc.ca 359m 1%
storage3.npd-ocp-dc.cpggpc.ca 271m 0%
storage2.npd-ocp-dc.cpggpc.ca 282m 0%
storage1.npd-ocp-dc.cpggpc.ca 245m 0%
infra3.npd-ocp-dc.cpggpc.ca 183m 0%
----
=== Pods Memory Utilization

.As an administrator, you can view the pods in your cluster and to determine the health of those pods and the cluster as a whole.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-viewing.html[Reference Documentation]

----
openshift-etcd etcd-master3.npd-ocp-dc.cpggpc.ca 4519Mi
openshift-etcd etcd-master2.npd-ocp-dc.cpggpc.ca 3959Mi
openshift-kube-apiserver kube-apiserver-master3.npd-ocp-dc.cpggpc.ca 3820Mi
openshift-etcd etcd-master1.npd-ocp-dc.cpggpc.ca 3566Mi
openshift-kube-apiserver kube-apiserver-master2.npd-ocp-dc.cpggpc.ca 3517Mi
openshift-monitoring prometheus-k8s-0 2864Mi
openshift-kube-apiserver kube-apiserver-master1.npd-ocp-dc.cpggpc.ca 2857Mi
openshift-monitoring prometheus-k8s-1 2836Mi
openshift-storage rook-ceph-mon-b-8587d9c7d4-76jwn 914Mi
openshift-storage rook-ceph-mon-a-668b85558-b9ht7 873Mi
openshift-storage rook-ceph-mon-c-5ff6fd57fd-pm8dv 869Mi
openshift-storage rook-ceph-osd-1-76fc86b9f8-vl8mh 761Mi
openshift-storage rook-ceph-osd-2-95b4cfc9-4ngrb 757Mi
openshift-console downloads-ffb9675f4-c64h9 743Mi
openshift-kube-controller-manager kube-controller-manager-master2.npd-ocp-dc.cpggpc.ca 503Mi
openshift-storage noobaa-core-0 494Mi
openshift-marketplace redhat-operators-sbqv6 446Mi
openshift-storage rook-ceph-mgr-a-849b77ddc4-nvkhc 429Mi
openshift-apiserver apiserver-767fdc66f9-c5p7n 413Mi
openshift-apiserver apiserver-767fdc66f9-5bnz6 407Mi
openshift-apiserver apiserver-767fdc66f9-5wc6l 353Mi
----
=== Pods CPU utilization

.As an administrator, you can view the pods in your cluster and to determine the health of those pods and the cluster as a whole.


https://docs.openshift.com/container-platform/4.11/nodes/pods/nodes-pods-viewing.html[Reference Documentation]

----
openshift-operator-lifecycle-manager olm-operator-7567f8c75f-wts2f 958m
openshift-kube-apiserver kube-apiserver-master3.npd-ocp-dc.cpggpc.ca 767m
openshift-monitoring prometheus-k8s-1 502m
openshift-monitoring prometheus-k8s-0 441m
openshift-kube-apiserver kube-apiserver-master2.npd-ocp-dc.cpggpc.ca 273m
openshift-kube-apiserver kube-apiserver-master1.npd-ocp-dc.cpggpc.ca 240m
openshift-etcd etcd-master2.npd-ocp-dc.cpggpc.ca 230m
openshift-etcd etcd-master3.npd-ocp-dc.cpggpc.ca 172m
openshift-etcd etcd-master1.npd-ocp-dc.cpggpc.ca 131m
openshift-storage rook-ceph-operator-664566d669-8r8dm 92m
openshift-operator-lifecycle-manager packageserver-69894f945f-x97zb 68m
group-sync-operator group-sync-operator-controller-manager-64474b99f7-8lghs 65m
openshift-monitoring node-exporter-w4f8w 28m
openshift-marketplace community-operators-gntsb 28m
openshift-apiserver apiserver-767fdc66f9-5bnz6 26m
openshift-kube-controller-manager kube-controller-manager-master2.npd-ocp-dc.cpggpc.ca 25m
openshift-apiserver apiserver-767fdc66f9-c5p7n 24m
openshift-monitoring node-exporter-2qs94 24m
openshift-monitoring node-exporter-lwm6j 23m
openshift-oauth-apiserver apiserver-6674f8b7c6-z9nll 23m
openshift-nmstate nmstate-handler-4ltjd 22m
----
== logging

=== Logging Resources

.The logging subsystem aggregates all the logs from the cluster and stores them in a default log store. You can use the Kibana web console to visualize log data.


https://docs.openshift.com/container-platform/4.10/logging/cluster-logging.html[Reference Documentation]

----
----
== monitoring

=== Prometheus Status

.The monitoring stack provides monitoring for core platform components. You also have the option to enable monitoring for user-defined projects.


https://docs.openshift.com/container-platform/4.10/monitoring/monitoring-overview.html[Reference Documentation]

prometheus-adapter-6f574dcd4d-k5s5r                      1/1     Running   0          8d
prometheus-adapter-6f574dcd4d-z6fft                      1/1     Running   0          8d
prometheus-k8s-0                                         6/6     Running   0          16d
prometheus-k8s-1                                         6/6     Running   0          16d
prometheus-operator-admission-webhook-778bbccd48-fjdl4   1/1     Running   0          16d
prometheus-operator-admission-webhook-778bbccd48-xfjqz   1/1     Running   0          16d
prometheus-operator-f9b547f54-h594v                      2/2     Running   0          16d
=== Prometheus Context

----
{"fsGroup":65534,"runAsNonRoot":true,"runAsUser":65534}
"15d"
{"requests":{"cpu":"70m","memory":"1Gi"}}
----
=== Prometheus Rules

.Users can then create and configure user-defined alert routing by creating or editing the AlertmanagerConfig objects.


https://docs.openshift.com/container-platform/4.11/monitoring/enabling-alert-routing-for-user-defined-projects.html[Reference Documentation]

==== openshift-cloud-credential-operator cloud-credential-operator-alerts
----
----
==== openshift-cluster-machine-approver machineapprover-rules
----
----
==== openshift-cluster-node-tuning-operator node-tuning-operator
----
----
==== openshift-cluster-samples-operator samples-operator-alerts
----
----
==== openshift-cluster-storage-operator prometheus
----
----
==== openshift-cluster-version cluster-version-operator
----
----
==== openshift-dns-operator dns
----
----
==== openshift-etcd-operator etcd-prometheus-rules
----
----
==== openshift-image-registry image-registry-rules
----
----
==== openshift-image-registry imagestreams-rules
----
----
==== openshift-ingress-operator ingress-operator
----
----
==== openshift-insights insights-prometheus-rules
----
----
==== openshift-kube-apiserver-operator kube-apiserver-operator
----
----
==== openshift-kube-apiserver api-usage
----
----
==== openshift-kube-apiserver audit-errors
----
----
==== openshift-kube-apiserver cpu-utilization
----
----
==== openshift-kube-apiserver kube-apiserver-requests
----
----
==== openshift-kube-apiserver kube-apiserver-slos-basic
----
----
==== openshift-kube-apiserver kube-apiserver-slos-extended
----
----
==== openshift-kube-apiserver podsecurity
----
----
==== openshift-kube-controller-manager-operator kube-controller-manager-operator
----
----
==== openshift-kube-scheduler-operator kube-scheduler-operator
----
----
==== openshift-machine-api machine-api-operator-prometheus-rules
----
----
==== openshift-machine-config-operator machine-config-controller
----
----
==== openshift-machine-config-operator machine-config-daemon
----
----
==== openshift-marketplace marketplace-alert-rules
----
----
==== openshift-monitoring alertmanager-main-rules
----
----
==== openshift-monitoring cluster-monitoring-operator-prometheus-rules
----
----
==== openshift-monitoring kube-state-metrics-rules
----
----
==== openshift-monitoring kubernetes-monitoring-rules
----
----
==== openshift-monitoring node-exporter-rules
----
----
==== openshift-monitoring prometheus-k8s-prometheus-rules
----
----
==== openshift-monitoring prometheus-k8s-thanos-sidecar-rules
----
----
==== openshift-monitoring prometheus-operator-rules
----
----
==== openshift-monitoring telemetry
----
----
==== openshift-monitoring thanos-querier
----
----
==== openshift-multus prometheus-k8s-rules
----
----
==== openshift-operator-lifecycle-manager olm-alert-rules
----
----
==== openshift-sdn networking-rules
----
----
==== openshift-storage noobaa-prometheus-rules
----
----
==== openshift-storage prometheus-ceph-rules
----
----
=== Service Monitors

.Cluster components are monitored by scraping metrics exposed through service endpoints. You can also configure metrics collection for user-defined projects.


https://docs.openshift.com/container-platform/4.11/monitoring/managing-metrics.html[Reference Documentation]

----
NAMESPACE                                   NAME
group-sync-operator                         group-sync-operator-controller-manager-metrics-monitor
openshift-apiserver-operator                openshift-apiserver-operator
openshift-apiserver                         openshift-apiserver
openshift-apiserver                         openshift-apiserver-operator-check-endpoints
openshift-authentication-operator           authentication-operator
openshift-authentication                    oauth-openshift
openshift-cloud-credential-operator         cloud-credential-operator
openshift-cluster-machine-approver          cluster-machine-approver
openshift-cluster-node-tuning-operator      node-tuning-operator
openshift-cluster-samples-operator          cluster-samples-operator
openshift-cluster-storage-operator          cluster-storage-operator
openshift-cluster-version                   cluster-version-operator
openshift-config-operator                   config-operator
openshift-console-operator                  console-operator
openshift-console                           console
openshift-controller-manager-operator       openshift-controller-manager-operator
openshift-controller-manager                openshift-controller-manager
openshift-dns-operator                      dns-operator
openshift-dns                               dns-default
openshift-etcd-operator                     etcd-operator
openshift-image-registry                    image-registry
openshift-image-registry                    image-registry-operator
openshift-ingress-operator                  ingress-operator
openshift-ingress                           router-default
openshift-insights                          insights-operator
openshift-kube-apiserver-operator           kube-apiserver-operator
openshift-kube-apiserver                    kube-apiserver
openshift-kube-controller-manager-operator  kube-controller-manager-operator
openshift-kube-controller-manager           kube-controller-manager
openshift-kube-scheduler-operator           kube-scheduler-operator
openshift-kube-scheduler                    kube-scheduler
openshift-local-storage                     local-storage-discovery-metrics
openshift-local-storage                     local-storage-diskmaker-metrics
openshift-machine-api                       cluster-autoscaler-operator
openshift-machine-api                       machine-api-controllers
openshift-machine-api                       machine-api-operator
openshift-machine-config-operator           machine-config-controller
openshift-machine-config-operator           machine-config-daemon
openshift-marketplace                       marketplace-operator
openshift-monitoring                        alertmanager-main
openshift-monitoring                        cluster-monitoring-operator
openshift-monitoring                        etcd
openshift-monitoring                        kube-state-metrics
openshift-monitoring                        kubelet
openshift-monitoring                        node-exporter
openshift-monitoring                        openshift-state-metrics
openshift-monitoring                        prometheus-adapter
openshift-monitoring                        prometheus-k8s
openshift-monitoring                        prometheus-operator
openshift-monitoring                        telemeter-client
openshift-monitoring                        thanos-querier
openshift-monitoring                        thanos-sidecar
openshift-multus                            monitor-multus-admission-controller
openshift-multus                            monitor-network
openshift-network-diagnostics               network-check-source
openshift-network-operator                  network-operator
openshift-oauth-apiserver                   openshift-oauth-apiserver
openshift-operator-lifecycle-manager        catalog-operator
openshift-operator-lifecycle-manager        olm-operator
openshift-sdn                               monitor-sdn
openshift-sdn                               monitor-sdn-controller
openshift-service-ca-operator               service-ca-operator
openshift-storage                           noobaa-mgmt-service-monitor
openshift-storage                           ocs-metrics-exporter
openshift-storage                           odf-operator-controller-manager-metrics-monitor
openshift-storage                           rook-ceph-mgr
openshift-storage                           s3-service-monitor
----
=== Pod Monitors

----
----
=== Alert Managers

----
NAMESPACE              NAME   VERSION   REPLICAS   AGE
openshift-monitoring   main   0.24.0    2          41d
----
=== Monitoring Agents & Dashboards

[%header,cols='3,1']
|===
|Agent|Status
|cluster-monitoring-operator|OK
|kube-state-metrics|OK
|openshift-state-metrics|OK
|node-exporter|OK
|thanos-querier|OK
|grafana|ERROR
|telemeter-client|OK
|===
== network

=== Enabled Networks

.By default, OCP allocates each pod an internal IP address and Pods and their containers can network, but clients outside the cluster do not have networking access.


https://docs.openshift.com/container-platform/4.11/networking/understanding-networking.html[Reference Documentation]

----
{
  "clusterNetwork": [
    {
      "cidr": "10.128.0.0/14",
      "hostPrefix": 23
    }
  ],
  "externalIP": {
    "policy": {}
  },
  "networkType": "OpenShiftSDN",
  "serviceNetwork": [
    "172.30.0.0/16"
  ]
}
----
=== Network Policies

.In a cluster using a Kubernetes Container Network Interface (CNI) plug-in that supports Kubernetes network policy, network isolation is controlled entirely by NetworkPolicy objects.


https://docs.openshift.com/container-platform/4.11/networking/network_policy/about-network-policy.html[Reference Documentation]

=== Cluster Networks

.ClusterNetwork describes the cluster network. There is normally only one object of this type, named 'default', which is created by the SDN network plugin based on the master configuration when the cluster is brought up for the first time.


https://docs.openshift.com/container-platform/4.11/rest_api/network_apis/clusternetwork-network-openshift-io-v1.html[Reference Documentation]

----
NAME      CLUSTER NETWORK   SERVICE NETWORK   PLUGIN NAME
default   10.128.0.0/14     172.30.0.0/16     redhat/openshift-ovs-networkpolicy
----
=== Host Subnets

.HostSubnet describes the container subnet network on a node. The HostSubnet object must have the same name as the Node object it corresponds to.


https://docs.openshift.com/container-platform/4.11/rest_api/network_apis/hostsubnet-network-openshift-io-v1.html[Reference Documentation]

----
NAME                            HOST                            HOST IP         SUBNET          EGRESS CIDRS   EGRESS IPS
infra1.npd-ocp-dc.cpggpc.ca     infra1.npd-ocp-dc.cpggpc.ca     10.237.157.51   10.131.0.0/23                  
infra2.npd-ocp-dc.cpggpc.ca     infra2.npd-ocp-dc.cpggpc.ca     10.237.157.52   10.128.2.0/23                  
infra3.npd-ocp-dc.cpggpc.ca     infra3.npd-ocp-dc.cpggpc.ca     10.237.157.53   10.129.2.0/23                  
master1.npd-ocp-dc.cpggpc.ca    master1.npd-ocp-dc.cpggpc.ca    10.237.157.41   10.130.0.0/23                  
master2.npd-ocp-dc.cpggpc.ca    master2.npd-ocp-dc.cpggpc.ca    10.237.157.42   10.129.0.0/23                  
master3.npd-ocp-dc.cpggpc.ca    master3.npd-ocp-dc.cpggpc.ca    10.237.157.43   10.128.0.0/23                  
storage1.npd-ocp-dc.cpggpc.ca   storage1.npd-ocp-dc.cpggpc.ca   10.237.157.56   10.129.4.0/23                  
storage2.npd-ocp-dc.cpggpc.ca   storage2.npd-ocp-dc.cpggpc.ca   10.237.157.57   10.130.4.0/23                  
storage3.npd-ocp-dc.cpggpc.ca   storage3.npd-ocp-dc.cpggpc.ca   10.237.157.58   10.128.4.0/23                  
worker1.npd-ocp-dc.cpggpc.ca    worker1.npd-ocp-dc.cpggpc.ca    10.237.157.61   10.131.2.0/23                  
worker2.npd-ocp-dc.cpggpc.ca    worker2.npd-ocp-dc.cpggpc.ca    10.237.157.62   10.130.2.0/23                  
----
=== Cluster Proxy

.If a global proxy is configured on the OpenShift Container Platform cluster, OLM automatically configures Operators that it manages with the cluster-wide proxy.


https://docs.openshift.com/container-platform/4.11/operators/admin/olm-configuring-proxy-support.html[Reference Documentation]

----
{
  "apiVersion": "config.openshift.io/v1",
  "kind": "Proxy",
  "metadata": {
    "creationTimestamp": "2022-10-21T20:00:49Z",
    "generation": 1,
    "name": "cluster",
    "resourceVersion": "633",
    "uid": "daeed6bf-eee8-4fcf-825d-4b1c158aefed"
  },
  "spec": {
    "trustedCA": {
      "name": ""
    }
  },
  "status": {}
}
----
=== Network Endpoints

----
NAMESPACE NAME 
 		 ENDPOINTS
default kubernetes 
 		 10.237.157.41:6443,10.237.157.42:6443,10.237.157.43:6443
group-sync-operator group-sync-operator-controller-manager-metrics-service 
 		 10.130.2.99:8443
kube-system kubelet 
 		 10.237.157.51:10250,10.237.157.52:10250,10.237.157.53:10250 more... 41d
openshift-apiserver-operator metrics 
 		 10.128.0.18:8443
openshift-apiserver api 
 		 10.128.0.11:8443,10.129.0.10:8443,10.130.0.14:8443
openshift-apiserver check-endpoints 
 		 10.128.0.11:17698,10.129.0.10:17698,10.130.0.14:17698
openshift-authentication-operator metrics 
 		 10.129.0.15:8443
openshift-authentication oauth-openshift 
 		 10.128.0.28:6443,10.129.0.162:6443,10.130.1.25:6443
openshift-cloud-credential-operator cco-metrics 
 		 10.129.0.31:8443
openshift-cluster-machine-approver machine-approver 
 		 10.237.157.42:9192
openshift-cluster-node-tuning-operator node-tuning-operator 
 		 10.128.0.23:60000
openshift-cluster-node-tuning-operator performance-addon-operator-service 
 		 10.128.0.23:4343
openshift-cluster-samples-operator metrics 
 		 10.128.0.19:60000
openshift-cluster-storage-operator cluster-storage-operator-metrics 
 		 10.129.0.34:8443
openshift-cluster-storage-operator csi-snapshot-controller-operator-metrics 
 		 10.129.0.20:8443
openshift-cluster-storage-operator csi-snapshot-webhook 
 		 10.128.0.36:8443,10.129.0.25:8443
openshift-cluster-version cluster-version-operator 
 		 10.237.157.42:9099
openshift-config-operator metrics 
 		 10.129.0.30:8443
openshift-console-operator metrics 
 		 10.128.0.35:8443
openshift-console console 
 		 10.129.0.242:8443,10.130.1.171:8443
openshift-console downloads 
 		 10.128.0.47:8080,10.130.2.10:8080
openshift-controller-manager-operator metrics 
 		 10.129.0.19:8443
openshift-controller-manager controller-manager 
 		 10.128.0.114:8443,10.129.0.59:8443,10.130.0.225:8443
openshift-dns-operator metrics 
 		 10.128.0.24:9393
openshift-dns dns-default 
 		 10.128.0.5:5353,10.128.4.53:5353,10.129.0.6:5353 more... 41d
openshift-etcd-operator metrics 
 		 10.129.0.28:8443
openshift-etcd etcd 
 		 10.237.157.41:2379,10.237.157.42:2379,10.237.157.43:2379 more... 41d
openshift-image-registry image-registry 
 		 10.131.0.10:5000
openshift-image-registry image-registry-operator 
 		 10.128.0.34:60000
openshift-ingress-canary ingress-canary 
 		 10.128.4.52:8080,10.129.4.3:8080,10.130.2.4:8080 more... 41d
openshift-ingress-operator metrics 
 		 10.128.0.25:9393
openshift-ingress router-internal-default 
 		 10.237.157.51:1936,10.237.157.52:1936,10.237.157.53:1936 more... 41d
openshift-insights metrics 
 		 10.129.0.16:8443
openshift-kube-apiserver-operator metrics 
 		 10.129.0.22:8443
openshift-kube-apiserver apiserver 
 		 10.237.157.41:6443,10.237.157.42:6443,10.237.157.43:6443
openshift-kube-controller-manager-operator metrics 
 		 10.129.0.29:8443
openshift-kube-controller-manager kube-controller-manager 
 		 10.237.157.41:10257,10.237.157.42:10257,10.237.157.43:10257
openshift-kube-scheduler-operator metrics 
 		 10.129.0.21:8443
openshift-kube-scheduler scheduler 
 		 10.237.157.41:10259,10.237.157.42:10259,10.237.157.43:10259
openshift-kube-storage-version-migrator-operator metrics 
 		 10.128.0.22:8443
openshift-local-storage local-storage-discovery-metrics 
 		 10.128.4.65:9393,10.129.4.6:9393,10.130.4.47:9393
openshift-local-storage local-storage-diskmaker-metrics 
 		 10.128.4.66:9393,10.129.4.5:9393,10.130.2.18:9393 more... 6d3h
openshift-machine-api cluster-autoscaler-operator 
 		 10.129.0.27:9192,10.129.0.27:8443
openshift-machine-api cluster-baremetal-operator-service 
 		 10.128.0.44:8443
openshift-machine-api cluster-baremetal-webhook-service 
 		 10.128.0.44:9443
openshift-machine-api machine-api-controllers 
 		 <none>
openshift-machine-api machine-api-operator 
 		 10.129.0.17:8443
openshift-machine-api machine-api-operator-webhook 
 		 <none>
openshift-machine-config-operator machine-config-controller 
 		 10.128.0.31:9001
openshift-machine-config-operator machine-config-daemon 
 		 10.237.157.41:9001,10.237.157.42:9001,10.237.157.43:9001 more... 41d
openshift-marketplace certified-operators 
 		 10.130.1.69:50051
openshift-marketplace community-operators 
 		 10.130.1.215:50051
openshift-marketplace marketplace-operator-metrics 
 		 10.129.0.24:8081,10.129.0.24:8383
openshift-marketplace redhat-marketplace 
 		 10.130.1.231:50051
openshift-marketplace redhat-operators 
 		 10.129.0.166:50051
openshift-monitoring alertmanager-main 
 		 10.128.2.7:9095,10.131.0.13:9095,10.128.2.7:9097 more... 41d
openshift-monitoring alertmanager-operated 
 		 10.128.2.7:9095,10.131.0.13:9095,10.128.2.7:9094 more... 41d
openshift-monitoring cluster-monitoring-operator 
 		 10.128.0.21:8443
openshift-monitoring kube-state-metrics 
 		 10.131.0.8:8443,10.131.0.8:9443
openshift-monitoring node-exporter 
 		 10.237.157.41:9100,10.237.157.42:9100,10.237.157.43:9100 more... 41d
openshift-monitoring openshift-state-metrics 
 		 10.131.0.9:8443,10.131.0.9:9443
openshift-monitoring prometheus-adapter 
 		 10.129.2.13:6443,10.131.0.17:6443
openshift-monitoring prometheus-k8s 
 		 10.128.2.6:9092,10.131.0.12:9092,10.128.2.6:9091 more... 41d
openshift-monitoring prometheus-k8s-thanos-sidecar 
 		 10.128.2.6:10902,10.131.0.12:10902
openshift-monitoring prometheus-operated 
 		 10.128.2.6:9091,10.131.0.12:9091,10.128.2.6:10901 more... 41d
openshift-monitoring prometheus-operator 
 		 10.131.0.4:8080,10.131.0.4:8443
openshift-monitoring prometheus-operator-admission-webhook 
 		 10.128.2.5:8443,10.131.0.5:8443
openshift-monitoring telemeter-client 
 		 10.131.0.6:8443
openshift-monitoring thanos-querier 
 		 10.128.2.8:9093,10.131.0.11:9093,10.128.2.8:9092 more... 41d
openshift-multus multus-admission-controller 
 		 10.128.0.2:8443,10.129.0.2:8443,10.130.0.8:8443 more... 41d
openshift-multus network-metrics-service 
 		 10.128.0.9:8443,10.128.2.2:8443,10.128.4.3:8443 more... 41d
openshift-network-diagnostics network-check-source 
 		 10.130.2.9:17698
openshift-network-diagnostics network-check-target 
 		 10.128.0.4:8080,10.128.2.3:8080,10.128.4.2:8080 more... 41d
openshift-network-operator metrics 
 		 10.237.157.43:9104
openshift-nmstate nmstate-webhook 
 		 10.128.0.161:9443,10.130.1.84:9443
openshift-oauth-apiserver api 
 		 10.128.0.12:8443,10.129.0.9:8443,10.130.0.12:8443
openshift-operator-lifecycle-manager catalog-operator-metrics 
 		 10.128.0.33:8443
openshift-operator-lifecycle-manager olm-operator-metrics 
 		 10.128.0.29:8443
openshift-operator-lifecycle-manager packageserver-service 
 		 10.128.0.32:5443,10.129.0.18:5443
openshift-operators devworkspace-controller-manager-service 
 		 10.130.2.112:9443
openshift-operators devworkspace-controller-metrics 
 		 10.130.2.112:8443
openshift-operators devworkspace-webhookserver 
 		 10.131.2.60:8443,10.131.2.60:9443
openshift-sdn sdn 
 		 10.237.157.41:9101,10.237.157.42:9101,10.237.157.43:9101 more... 41d
openshift-sdn sdn-controller 
 		 10.237.157.41:9106,10.237.157.42:9106,10.237.157.43:9106
openshift-service-ca-operator metrics 
 		 10.128.0.37:8443
openshift-storage csi-addons-controller-manager-metrics-service 
 		 10.131.2.41:8443
openshift-storage csi-cephfsplugin-metrics 
 		 10.130.2.20:9081,10.131.2.49:9081,10.237.157.56:9081 more... 6d3h
openshift-storage csi-rbdplugin-metrics 
 		 10.130.4.50:9090,10.131.2.48:9090,10.237.157.56:9090 more... 6d3h
openshift-storage noobaa-db-pg 
 		 10.130.4.100:5432
openshift-storage noobaa-mgmt 
 		 10.130.4.99:8446,10.130.4.99:8080,10.130.4.99:8443 more... 6d2h
openshift-storage noobaa-operator-service 
 		 10.131.2.42:8080
openshift-storage ocs-metrics-exporter 
 		 10.130.3.248:8080,10.130.3.248:8081
openshift-storage odf-console-service 
 		 10.131.2.40:9001
openshift-storage odf-operator-controller-manager-metrics-service 
 		 10.130.3.246:8443
openshift-storage rook-ceph-mgr 
 		 10.128.4.95:9283
openshift-storage rook-ceph-mon-a 
 		 10.128.4.68:6789,10.128.4.68:3300
openshift-storage rook-ceph-mon-b 
 		 10.130.4.52:6789,10.130.4.52:3300
openshift-storage rook-ceph-mon-c 
 		 10.129.4.9:6789,10.129.4.9:3300
openshift-storage rook-ceph-rgw-ocs-storagecluster-cephobjectstore 
 		 10.128.4.96:443,10.128.4.96:8080
openshift-storage s3 
 		 10.130.4.101:7004,10.130.4.101:6001,10.130.4.101:8444 more... 6d2h
openshift-storage sts 
 		 10.130.4.101:7443
openshift-terminal workspace2151bce3d03542bf-service 
 		 <none>
----
=== Routes

.A route allows you to host your application at a public URL. It can either be secure or unsecured, depending on the network security configuration of your application.


https://docs.openshift.com/container-platform/4.11/networking/routes/route-configuration.html[Reference Documentation]

----
NAMESPACE NAME 
 		 HOST/PORT PATH SERVICES PORT TERMINATION WILDCARD
openshift-authentication oauth-openshift 
 		 oauth-openshift.apps.npd-ocp-dc.cpggpc.ca oauth-openshift 6443 passthrough/Redirect None 
openshift-console console 
 		 console-openshift-console.apps.npd-ocp-dc.cpggpc.ca console https reencrypt/Redirect None 
openshift-console downloads 
 		 downloads-openshift-console.apps.npd-ocp-dc.cpggpc.ca downloads http edge/Redirect None 
openshift-ingress-canary canary 
 		 canary-openshift-ingress-canary.apps.npd-ocp-dc.cpggpc.ca ingress-canary 8080 edge/Redirect None 
openshift-monitoring alertmanager-main 
 		 alertmanager-main-openshift-monitoring.apps.npd-ocp-dc.cpggpc.ca /api alertmanager-main web reencrypt/Redirect None
openshift-monitoring prometheus-k8s 
 		 prometheus-k8s-openshift-monitoring.apps.npd-ocp-dc.cpggpc.ca /api prometheus-k8s web reencrypt/Redirect None
openshift-monitoring prometheus-k8s-federate 
 		 prometheus-k8s-federate-openshift-monitoring.apps.npd-ocp-dc.cpggpc.ca /federate prometheus-k8s web reencrypt/Redirect None
openshift-monitoring thanos-querier 
 		 thanos-querier-openshift-monitoring.apps.npd-ocp-dc.cpggpc.ca /api thanos-querier web reencrypt/Redirect None
openshift-storage noobaa-mgmt 
 		 noobaa-mgmt-openshift-storage.apps.npd-ocp-dc.cpggpc.ca noobaa-mgmt mgmt-https reencrypt/Redirect None 
openshift-storage ocs-storagecluster-cephobjectstore 
 		 ocs-storagecluster-cephobjectstore-openshift-storage.apps.npd-ocp-dc.cpggpc.ca rook-ceph-rgw-ocs-storagecluster-cephobjectstore <all> None  
openshift-storage s3 
 		 s3-openshift-storage.apps.npd-ocp-dc.cpggpc.ca s3 s3-https reencrypt/Allow None 
openshift-storage sts 
 		 sts-openshift-storage.apps.npd-ocp-dc.cpggpc.ca sts sts-https reencrypt None 
----
=== Egress Network Policy

.You can create an egress firewall for a project that restricts egress traffic leaving your OpenShift Container Platform cluster.


https://docs.openshift.com/container-platform/4.11/networking/openshift_sdn/configuring-egress-firewall.html[Reference Documentation]

----
----
=== Ingress Controllers

.OpenShift Container Platform provides methods for communicating from outside the cluster with services running in the cluster. This method uses an Ingress Controller.


https://docs.openshift.com/container-platform/4.11/networking/nw-ingress-controller-endpoint-publishing-strategies.html[Reference Documentation]

==== default
----
{
  "availableReplicas": 3,
  "conditions": [
    {
      "lastTransitionTime": "2022-10-21T20:14:08Z",
      "reason": "Valid",
      "status": "True",
      "type": "Admitted"
    },
    {
      "lastTransitionTime": "2022-11-15T21:40:33Z",
      "status": "True",
      "type": "PodsScheduled"
    },
    {
      "lastTransitionTime": "2022-11-15T21:35:53Z",
      "message": "The deployment has Available status condition set to True",
      "reason": "DeploymentAvailable",
      "status": "True",
      "type": "DeploymentAvailable"
    },
    {
      "lastTransitionTime": "2022-11-15T21:35:53Z",
      "message": "Minimum replicas requirement is met",
      "reason": "DeploymentMinimumReplicasMet",
      "status": "True",
      "type": "DeploymentReplicasMinAvailable"
    },
    {
      "lastTransitionTime": "2022-11-15T21:41:30Z",
      "message": "All replicas are available",
      "reason": "DeploymentReplicasAvailable",
      "status": "True",
      "type": "DeploymentReplicasAllAvailable"
    },
    {
      "lastTransitionTime": "2022-10-21T20:14:08Z",
      "message": "The configured endpoint publishing strategy does not include a managed load balancer",
      "reason": "EndpointPublishingStrategyExcludesManagedLoadBalancer",
      "status": "False",
      "type": "LoadBalancerManaged"
    },
    {
      "lastTransitionTime": "2022-10-21T20:14:08Z",
      "message": "No DNS zones are defined in the cluster dns config.",
      "reason": "NoDNSZones",
      "status": "False",
      "type": "DNSManaged"
    },
    {
      "lastTransitionTime": "2022-11-15T21:35:53Z",
      "status": "True",
      "type": "Available"
    },
    {
      "lastTransitionTime": "2022-10-21T20:14:08Z",
      "status": "False",
      "type": "Progressing"
    },
    {
      "lastTransitionTime": "2022-11-15T21:35:53Z",
      "status": "False",
      "type": "Degraded"
    },
    {
      "lastTransitionTime": "2022-10-21T20:14:08Z",
      "message": "IngressController is upgradeable.",
      "reason": "Upgradeable",
      "status": "True",
      "type": "Upgradeable"
    },
    {
      "lastTransitionTime": "2022-11-08T15:20:32Z",
      "message": "Canary route checks for the default ingress controller are successful",
      "reason": "CanaryChecksSucceeding",
      "status": "True",
      "type": "CanaryChecksSucceeding"
    }
  ],
  "domain": "apps.npd-ocp-dc.cpggpc.ca",
  "endpointPublishingStrategy": {
    "hostNetwork": {
      "httpPort": 80,
      "httpsPort": 443,
      "protocol": "TCP",
      "statsPort": 1936
    },
    "type": "HostNetwork"
  },
  "observedGeneration": 3,
  "selector": "ingresscontroller.operator.openshift.io/deployment-ingresscontroller=default",
  "tlsProfile": {
    "ciphers": [
      "ECDHE-ECDSA-AES128-GCM-SHA256",
      "ECDHE-RSA-AES128-GCM-SHA256",
      "ECDHE-ECDSA-AES256-GCM-SHA384",
      "ECDHE-RSA-AES256-GCM-SHA384",
      "ECDHE-ECDSA-CHACHA20-POLY1305",
      "ECDHE-RSA-CHACHA20-POLY1305",
      "DHE-RSA-AES128-GCM-SHA256",
      "DHE-RSA-AES256-GCM-SHA384",
      "TLS_AES_128_GCM_SHA256",
      "TLS_AES_256_GCM_SHA384",
      "TLS_CHACHA20_POLY1305_SHA256"
    ],
    "minTLSVersion": "VersionTLS12"
  }
}
----
=== Ingresses

.OpenShift Container Platform provides methods for communicating from outside the cluster with services running in the cluster. This method uses an Ingress Controller.


https://docs.openshift.com/container-platform/4.11/networking/configuring_ingress_cluster_traffic/configuring-ingress-cluster-traffic-ingress-controller.html[Reference Documentation]

----
----
=== Ingress Controller Pods

.OpenShift Container Platform provides methods for communicating from outside the cluster with services running in the cluster. This method uses an Ingress Controller.


https://docs.openshift.com/container-platform/4.11/networking/configuring_ingress_cluster_traffic/configuring-ingress-cluster-traffic-ingress-controller.html[Reference Documentation]

**router-default-786f887f89-4kwg7**
**haproxy.conf Configuration file is valid**
----
SSL Configurations:
  ssl-default-bind-options ssl-min-ver TLSv1.2
  ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
  ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256
Frontends:
  bind :80
  bind :443
Backends:
backend be_sni
backend be_no_sni
backend openshift_default
backend be_tcp:openshift-authentication:oauth-openshift
backend be_secure:openshift-console:console
backend be_edge_http:openshift-console:downloads
backend be_edge_http:openshift-ingress-canary:canary
backend be_secure:openshift-monitoring:alertmanager-main
backend be_secure:openshift-monitoring:prometheus-k8s
backend be_secure:openshift-monitoring:prometheus-k8s-federate
backend be_secure:openshift-monitoring:thanos-querier
backend be_secure:openshift-storage:noobaa-mgmt
backend be_http:openshift-storage:ocs-storagecluster-cephobjectstore
backend be_secure:openshift-storage:s3
backend be_secure:openshift-storage:sts
----
=== Pod Network Connectivity Check

.The Cluster Network Operator runs a controller that performs a connection health check between resources within your cluster. By reviewing the results of the health checks, you can diagnose connection problems or eliminate network connectivity as the cause of an issue that you are investigating.


https://docs.openshift.com/container-platform/4.10/networking/verifying-connectivity-endpoint.html#nw-pod-network-connectivity-checks_verifying-connectivity-endpoint[Reference Documentation]

[%header,cols='4,1']
|===
|POD|STATUS
|network-check-source-worker1-to-kubernetes-apiserver-endpoint-master1|
|network-check-source-worker1-to-kubernetes-apiserver-endpoint-master2|
|network-check-source-worker1-to-kubernetes-apiserver-endpoint-master3|
|network-check-source-worker1-to-kubernetes-apiserver-service-cluster|
|network-check-source-worker1-to-kubernetes-default-service-cluster-0|
|network-check-source-worker1-to-load-balancer-api-external|
|network-check-source-worker1-to-load-balancer-api-internal|
|network-check-source-worker1-to-network-check-target-infra1|
|network-check-source-worker1-to-network-check-target-infra2|
|network-check-source-worker1-to-network-check-target-infra3|
|network-check-source-worker1-to-network-check-target-master1|
|network-check-source-worker1-to-network-check-target-master2|
|network-check-source-worker1-to-network-check-target-master3|
|network-check-source-worker1-to-network-check-target-service-cluster|
|network-check-source-worker1-to-network-check-target-storage1|
|network-check-source-worker1-to-network-check-target-storage2|
|network-check-source-worker1-to-network-check-target-storage3|
|network-check-source-worker1-to-network-check-target-worker1|
|network-check-source-worker1-to-openshift-apiserver-endpoint-master1|
|network-check-source-worker1-to-openshift-apiserver-endpoint-master2|
|network-check-source-worker1-to-openshift-apiserver-endpoint-master3|
|network-check-source-worker1-to-openshift-apiserver-service-cluster|
|===
== operators

=== Degraded Cluster Operators

.Operators are a method of packaging, deploying, and managing an OpenShift Container Platform application. They act like an extension of the software vendor’s engineering team, watching over an OpenShift Container Platform environment and using its current state to make decisions in real time.


https://docs.openshift.com/container-platform/4.11/support/troubleshooting/troubleshooting-operator-issues.html[Reference Documentation]

----
----
=== Unavailable Cluster Operators

.Operators are a method of packaging, deploying, and managing an OpenShift Container Platform application. They act like an extension of the software vendor’s engineering team, watching over an OpenShift Container Platform environment and using its current state to make decisions in real time.


https://docs.openshift.com/container-platform/4.11/support/troubleshooting/troubleshooting-operator-issues.html[Reference Documentation]

----
----
=== Cluster Services Versions

.A cluster service version (CSV), is a YAML manifest created from Operator metadata that assists Operator Lifecycle Manager (OLM) in running the Operator in a cluster.


https://docs.openshift.com/container-platform/4.11/operators/operator_sdk/osdk-generating-csvs.html[Reference Documentation]

----
devworkspace-operator.v0.16.0-0.1666668361.p
group-sync-operator.v0.0.20
kubernetes-nmstate-operator.4.11.0-202211211647
local-storage-operator.4.11.0-202211072116
mcg-operator.v4.11.3
ocs-operator.v4.11.3
odf-csi-addons-operator.v4.11.3
odf-operator.v4.11.3
packageserver
web-terminal.v1.6.0
----
=== Operator Groups

.An Operator group, defined by the OperatorGroup resource, provides multitenant configuration to OLM-installed Operators. An Operator group selects target namespaces in which to generate required RBAC access for its member Operators.


https://docs.openshift.com/container-platform/4.11/operators/understanding/olm/olm-understanding-operatorgroups.html[Reference Documentation]

----
NAMESPACE                              NAME                            AGE
group-sync-operator                    group-sync-operator-7dmgz       6h48m
openshift-local-storage                openshift-local-storage-5lvwv   6d6h
openshift-monitoring                   openshift-cluster-monitoring    41d
openshift-nmstate                      openshift-nmstate-tn6k8         35d
openshift-operator-lifecycle-manager   olm-operators                   41d
openshift-operators                    global-operators                41d
openshift-storage                      openshift-storage-zmdgr         6d6h
----
=== Operator Sources

----
----
== mesh

== applications

=== Application Deployment

----
Already on project "schrodingers-cat" on server "https://api.npd-ocp-dc.cpggpc.ca:6443".
svc/nodejs-ex - 172.30.178.185:8080
Application Deployment: SUCCESS!
project.project.openshift.io "schrodingers-cat" deleted
----
=== Non-Ready Deployments

----
NAMESPACE           NAME                       READY  UP-TO-DATE  AVAILABLE  AGE
openshift-terminal  workspace2151bce3d03542bf  0/0    0           0          4h23m
schrodingers-cat    nodejs-ex                  0/1    0           0          13s
----
=== Unavailable Deployments

----
NAMESPACE           NAME                       READY  UP-TO-DATE  AVAILABLE  AGE
openshift-terminal  workspace2151bce3d03542bf  0/0    0           0          4h23m
schrodingers-cat    nodejs-ex                  0/1    0           0          16s
----
=== Inactive projects

----
----
=== Failed Builds

----
----


== Openshift Data Foundation

=== Versions

.Red Hat OpenShift Data Foundation Documentation
https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.9 Documentation

[source,shell]
----
Client Version: 4.9.1
----

=== Dashboard Health status

.Dashboard Health in Production Cluster

* Navigate to the Operators menu on the left and select Installed Operators. 
* Verify that the final Status of the installed storage cluster shows as Phase: ready with a green tick mark
* Navigate to Storage -> Overview and ensure Openshift Data Foundation show green tick marks
* Click on the Storage System tab and ensure that Block Storage shows a green tick mark

Non-Production Cluster

image::../pdf/images/odf/nonprod/HealthyDashboard1.png[]

Production Cluster

image::../pdf/images/odf/prod/HealthyDashboard1.png[]
image::../pdf/images/odf/prod/HealthyDashboard2.png[]

=== Ensure that the required storage classes are created

* Go to Storage -> Storage Classes from the left pane of the OpenShift Web Console and verify that the expected storage classes are created.
** The default storage classes for ODF on AWS are cephfs,rbd, and noobaa

.Non-Production Cluster
[source,shell]
----
gp2
gp2-csi
gp3-basic-ebs-csi-aws
gp3-ebs-csi-aws (default)
io1
ocs-storagecluster-cephfs
ocs-storagecluster-ceph-rbd
openshift-storage.noobaa.io
----

.Production Cluster
[source,shell]
----
gp2
gp2-csi
gp3-ebs-csi-aws (default)
io1
ocs-storagecluster-cephfs
ocs-storagecluster-ceph-rbd
openshift-storage.noobaa.io
----

=== Ensure required pods have been created

* Go to Workloads -> Pods from the left pane of the OpenShift Web Console and verify that the expected pods are created.

https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.9/html-single/deploying_openshift_data_foundation_using_amazon_web_services/index#pods-corresponding-to-storage-components-internal-mode Documentation

Non Prod Pods

[source,shell]
----
$ oc get pods -n openshift-storage
NAME                                                              READY   STATUS    RESTARTS        AGE
csi-cephfsplugin-22dwx                                            3/3     Running   6               180d
csi-cephfsplugin-2mtf5                                            3/3     Running   6               196d
csi-cephfsplugin-44fh8                                            3/3     Running   3               135d
csi-cephfsplugin-4c6ns                                            3/3     Running   3               140d
csi-cephfsplugin-4s5kl                                            3/3     Running   3               90d
csi-cephfsplugin-5sn2g                                            3/3     Running   3               140d
csi-cephfsplugin-64hhc                                            3/3     Running   3               154d
csi-cephfsplugin-6nqz2                                            3/3     Running   0               35d
csi-cephfsplugin-6v44n                                            3/3     Running   0               35d
csi-cephfsplugin-6wcl4                                            3/3     Running   3               145d
csi-cephfsplugin-76gb6                                            3/3     Running   0               81d
csi-cephfsplugin-78v6z                                            3/3     Running   3               154d
csi-cephfsplugin-7chd5                                            3/3     Running   6               196d
csi-cephfsplugin-8lspp                                            3/3     Running   3               140d
csi-cephfsplugin-8t55l                                            3/3     Running   0               82d
csi-cephfsplugin-9pmwz                                            3/3     Running   3               140d
csi-cephfsplugin-9vskh                                            3/3     Running   3               145d
csi-cephfsplugin-b42qm                                            3/3     Running   3               146d
csi-cephfsplugin-bh2f4                                            3/3     Running   6               154d
csi-cephfsplugin-bhmqp                                            3/3     Running   3               154d
csi-cephfsplugin-c92s6                                            3/3     Running   3               142d
csi-cephfsplugin-dkqbm                                            3/3     Running   3               140d
csi-cephfsplugin-dnkp7                                            3/3     Running   6               180d
csi-cephfsplugin-fdxsw                                            3/3     Running   0               35d
csi-cephfsplugin-fg62w                                            3/3     Running   6               209d
csi-cephfsplugin-fgfwv                                            3/3     Running   6               209d
csi-cephfsplugin-fvt9x                                            3/3     Running   6               180d
csi-cephfsplugin-g4dcx                                            3/3     Running   3               154d
csi-cephfsplugin-gq8rd                                            3/3     Running   3               146d
csi-cephfsplugin-h524c                                            3/3     Running   3               142d
csi-cephfsplugin-jhtqp                                            3/3     Running   0               81d
csi-cephfsplugin-jhxrj                                            3/3     Running   6               180d
csi-cephfsplugin-jmppg                                            3/3     Running   6               209d
csi-cephfsplugin-k525p                                            3/3     Running   0               51d
csi-cephfsplugin-k8ltq                                            3/3     Running   0               51d
csi-cephfsplugin-l4cqx                                            3/3     Running   6               209d
csi-cephfsplugin-l8c4b                                            3/3     Running   6               180d
csi-cephfsplugin-lmm4g                                            3/3     Running   3               146d
csi-cephfsplugin-mbh7b                                            3/3     Running   6               180d
csi-cephfsplugin-mc74d                                            3/3     Running   3               145d
csi-cephfsplugin-ml68z                                            3/3     Running   6               209d
csi-cephfsplugin-n529q                                            3/3     Running   6               209d
csi-cephfsplugin-n8g5x                                            3/3     Running   3               126d
csi-cephfsplugin-p95br                                            3/3     Running   6               195d
csi-cephfsplugin-pcdqk                                            3/3     Running   6               180d
csi-cephfsplugin-provisioner-64595cbf6c-8h2jn                     6/6     Running   8 (3d15h ago)   81d
csi-cephfsplugin-provisioner-64595cbf6c-n9bj7                     6/6     Running   3 (71d ago)     81d
csi-cephfsplugin-psjl6                                            3/3     Running   0               34d
csi-cephfsplugin-pwg8z                                            3/3     Running   6               154d
csi-cephfsplugin-qjwxv                                            3/3     Running   3               146d
csi-cephfsplugin-rpz5c                                            3/3     Running   6               195d
csi-cephfsplugin-rvmf2                                            3/3     Running   3               145d
csi-cephfsplugin-tb982                                            3/3     Running   3               142d
csi-cephfsplugin-tpg6k                                            3/3     Running   0               78d
csi-cephfsplugin-v42lm                                            3/3     Running   6               180d
csi-cephfsplugin-vp9x8                                            3/3     Running   0               51d
csi-cephfsplugin-vw2rq                                            3/3     Running   6               180d
csi-cephfsplugin-w29jk                                            3/3     Running   6               180d
csi-cephfsplugin-w8c99                                            3/3     Running   0               78d
csi-cephfsplugin-ztt6q                                            3/3     Running   3               154d
csi-rbdplugin-226rd                                               3/3     Running   3               140d
csi-rbdplugin-22gvs                                               3/3     Running   6               180d
csi-rbdplugin-2tqh9                                               3/3     Running   3               146d
csi-rbdplugin-46ftj                                               3/3     Running   6               154d
csi-rbdplugin-4b57k                                               3/3     Running   3               140d
csi-rbdplugin-4jn22                                               3/3     Running   6               180d
csi-rbdplugin-4szvg                                               3/3     Running   3               142d
csi-rbdplugin-4tgxw                                               3/3     Running   6               180d
csi-rbdplugin-5tn2r                                               3/3     Running   6               154d
csi-rbdplugin-6bdkn                                               3/3     Running   3               154d
csi-rbdplugin-6fdhl                                               3/3     Running   6               209d
csi-rbdplugin-7cvzz                                               3/3     Running   0               35d
csi-rbdplugin-7nrz8                                               3/3     Running   0               81d
csi-rbdplugin-8fgpw                                               3/3     Running   0               82d
csi-rbdplugin-8vzq9                                               3/3     Running   3               135d
csi-rbdplugin-96jv9                                               3/3     Running   3               146d
csi-rbdplugin-96tf4                                               3/3     Running   3               154d
csi-rbdplugin-9l65z                                               3/3     Running   6               195d
csi-rbdplugin-9qpqm                                               3/3     Running   3               142d
csi-rbdplugin-9wt9s                                               3/3     Running   6               180d
csi-rbdplugin-b2t9t                                               3/3     Running   3               154d
csi-rbdplugin-bnbpf                                               3/3     Running   3               140d
csi-rbdplugin-bwbgj                                               3/3     Running   6               209d
csi-rbdplugin-c58jd                                               3/3     Running   0               51d
csi-rbdplugin-cjqtt                                               3/3     Running   6               209d
csi-rbdplugin-dpdxw                                               3/3     Running   0               35d
csi-rbdplugin-fj6x4                                               3/3     Running   3               145d
csi-rbdplugin-fpjjt                                               3/3     Running   6               180d
csi-rbdplugin-fvddm                                               3/3     Running   6               180d
csi-rbdplugin-g8cwq                                               3/3     Running   3               140d
csi-rbdplugin-gqpjp                                               3/3     Running   3               145d
csi-rbdplugin-h8nxr                                               3/3     Running   6               196d
csi-rbdplugin-hbg6k                                               3/3     Running   0               78d
csi-rbdplugin-hw9gm                                               3/3     Running   0               51d
csi-rbdplugin-hxbvm                                               3/3     Running   6               180d
csi-rbdplugin-jgcgp                                               3/3     Running   3               145d
csi-rbdplugin-jpwjt                                               3/3     Running   0               78d
csi-rbdplugin-kk5rv                                               3/3     Running   0               51d
csi-rbdplugin-lck27                                               3/3     Running   3               154d
csi-rbdplugin-mvsnb                                               3/3     Running   0               34d
csi-rbdplugin-n2z97                                               3/3     Running   3               140d
csi-rbdplugin-nqfcv                                               3/3     Running   3               154d
csi-rbdplugin-pcfk8                                               3/3     Running   6               209d
csi-rbdplugin-provisioner-5789fd5797-whxc9                        6/6     Running   7 (71d ago)     81d
csi-rbdplugin-provisioner-5789fd5797-x4js5                        6/6     Running   9 (74d ago)     81d
csi-rbdplugin-ptj6s                                               3/3     Running   0               81d
csi-rbdplugin-px8kc                                               3/3     Running   3               146d
csi-rbdplugin-q9n5h                                               3/3     Running   6               209d
csi-rbdplugin-qffn2                                               3/3     Running   6               180d
csi-rbdplugin-qkjw7                                               3/3     Running   6               196d
csi-rbdplugin-rphjz                                               3/3     Running   3               90d
csi-rbdplugin-sw8rt                                               3/3     Running   6               180d
csi-rbdplugin-vm7q6                                               3/3     Running   6               195d
csi-rbdplugin-vx8l7                                               3/3     Running   3               145d
csi-rbdplugin-w56kd                                               3/3     Running   6               180d
csi-rbdplugin-w5mm5                                               3/3     Running   3               126d
csi-rbdplugin-wjvzr                                               3/3     Running   0               35d
csi-rbdplugin-ws7m8                                               3/3     Running   3               146d
csi-rbdplugin-xdk8l                                               3/3     Running   6               209d
csi-rbdplugin-zvwhs                                               3/3     Running   3               142d
noobaa-core-0                                                     1/1     Running   0               81d
noobaa-db-pg-0                                                    1/1     Running   0               81d
noobaa-endpoint-7f89b65444-kkmjj                                  1/1     Running   0               81d
noobaa-operator-555dbc8b68-qnzn2                                  1/1     Running   0               81d
ocs-metrics-exporter-65986ffc9-xhh9t                              1/1     Running   0               81d
ocs-operator-696d5b4f5-2rkh9                                      1/1     Running   4 (3d15h ago)   81d
odf-console-69648dbc57-5t7gp                                      1/1     Running   0               81d
odf-operator-controller-manager-6df68d9696-g6qg7                  2/2     Running   3 (3d15h ago)   81d
rook-ceph-crashcollector-ip-172-18-56-242.saccap.int-7ddb5mspqm   1/1     Running   0               81d
rook-ceph-crashcollector-ip-172-18-57-121.saccap.int-7b4c6nmmpm   1/1     Running   0               81d
rook-ceph-crashcollector-ip-172-18-58-213.saccap.int-56dc4k8hs7   1/1     Running   0               81d
rook-ceph-mds-ocs-storagecluster-cephfilesystem-a-c9d984c5glwcj   2/2     Running   0               81d
rook-ceph-mds-ocs-storagecluster-cephfilesystem-b-c6b79c87rwc2n   2/2     Running   0               81d
rook-ceph-mgr-a-7c75cdb79d-jmjw4                                  2/2     Running   0               81d
rook-ceph-mon-a-846cb6fb4b-xp8j9                                  2/2     Running   0               2d3h
rook-ceph-mon-b-795989764c-6h5dk                                  2/2     Running   0               2d3h
rook-ceph-mon-c-6cdb89bdcb-4j4wn                                  2/2     Running   0               2d3h
rook-ceph-operator-6647b6999-h8wq5                                1/1     Running   0               81d
rook-ceph-osd-0-5bb59f4f4c-9b56r                                  2/2     Running   0               81d
rook-ceph-osd-1-84974c9d7c-87bml                                  2/2     Running   0               81d
rook-ceph-osd-2-57dd7bbbf6-4cnl7                                  2/2     Running   0               81d
rook-ceph-tools-7f66db4d9-sr82h                                   1/1     Running   0               2d3h
----

Prod

[source,shell]
----
$ oc get pods -n openshift-storage
NAME                                                              READY   STATUS    RESTARTS        AGE
csi-cephfsplugin-4lpsj                                            3/3     Running   0               76d
csi-cephfsplugin-5gmtt                                            3/3     Running   0               70d
csi-cephfsplugin-76w8f                                            3/3     Running   6               126d
csi-cephfsplugin-798gf                                            3/3     Running   6               126d
csi-cephfsplugin-924r2                                            3/3     Running   6               126d
csi-cephfsplugin-9fcgd                                            3/3     Running   6               126d
csi-cephfsplugin-9t7l6                                            3/3     Running   6               126d
csi-cephfsplugin-9vmv2                                            3/3     Running   0               76d
csi-cephfsplugin-bkkqd                                            3/3     Running   0               70d
csi-cephfsplugin-hxrdg                                            3/3     Running   0               76d
csi-cephfsplugin-jhk7n                                            3/3     Running   6               118d
csi-cephfsplugin-jm4hc                                            3/3     Running   6               126d
csi-cephfsplugin-kc8b8                                            3/3     Running   0               76d
csi-cephfsplugin-l7d24                                            3/3     Running   0               76d
csi-cephfsplugin-lbflr                                            3/3     Running   6               124d
csi-cephfsplugin-n7jx2                                            3/3     Running   0               85d
csi-cephfsplugin-nhcz4                                            3/3     Running   0               76d
csi-cephfsplugin-ntqf8                                            3/3     Running   6               126d
csi-cephfsplugin-provisioner-6d9b4fdd89-5vrxd                     6/6     Running   0               85d
csi-cephfsplugin-provisioner-6d9b4fdd89-rzzt4                     6/6     Running   1 (3d10h ago)   85d
csi-cephfsplugin-tckc7                                            3/3     Running   6               118d
csi-cephfsplugin-v9gjk                                            3/3     Running   0               76d
csi-cephfsplugin-vlg96                                            3/3     Running   0               76d
csi-cephfsplugin-w5ckb                                            3/3     Running   6               118d
csi-cephfsplugin-w6g4t                                            3/3     Running   6               126d
csi-cephfsplugin-x8r6r                                            3/3     Running   6               126d
csi-cephfsplugin-xn6bg                                            3/3     Running   0               76d
csi-cephfsplugin-zl5p8                                            3/3     Running   0               70d
csi-cephfsplugin-zzp9f                                            3/3     Running   3               104d
csi-rbdplugin-26r2c                                               3/3     Running   6               126d
csi-rbdplugin-5ldkj                                               3/3     Running   0               76d
csi-rbdplugin-6kjmx                                               3/3     Running   6               124d
csi-rbdplugin-6w6cl                                               3/3     Running   6               118d
csi-rbdplugin-7xf4r                                               3/3     Running   6               126d
csi-rbdplugin-855rx                                               3/3     Running   0               70d
csi-rbdplugin-85grb                                               3/3     Running   0               76d
csi-rbdplugin-8t46n                                               3/3     Running   6               126d
csi-rbdplugin-8w4c9                                               3/3     Running   6               126d
csi-rbdplugin-b4fml                                               3/3     Running   0               85d
csi-rbdplugin-bwpdz                                               3/3     Running   6               118d
csi-rbdplugin-dhgxr                                               3/3     Running   6               118d
csi-rbdplugin-f5r5m                                               3/3     Running   0               76d
csi-rbdplugin-j2rnw                                               3/3     Running   0               76d
csi-rbdplugin-kb9bl                                               3/3     Running   6               126d
csi-rbdplugin-lnf5n                                               3/3     Running   6               126d
csi-rbdplugin-nlwlb                                               3/3     Running   0               76d
csi-rbdplugin-phght                                               3/3     Running   0               76d
csi-rbdplugin-provisioner-86db659c45-prjzw                        6/6     Running   0               85d
csi-rbdplugin-provisioner-86db659c45-tmtnp                        6/6     Running   1 (51d ago)     85d
csi-rbdplugin-q5tkx                                               3/3     Running   0               70d
csi-rbdplugin-q7hxn                                               3/3     Running   6               126d
csi-rbdplugin-rr9md                                               3/3     Running   6               126d
csi-rbdplugin-s6ljb                                               3/3     Running   0               76d
csi-rbdplugin-ss5zb                                               3/3     Running   6               126d
csi-rbdplugin-w4s67                                               3/3     Running   0               76d
csi-rbdplugin-wn88k                                               3/3     Running   3               104d
csi-rbdplugin-xb5nz                                               3/3     Running   0               76d
csi-rbdplugin-zsq85                                               3/3     Running   0               70d
noobaa-core-0                                                     1/1     Running   0               85d
noobaa-db-pg-0                                                    1/1     Running   0               85d
noobaa-endpoint-765df96b54-n2xqd                                  1/1     Running   0               85d
noobaa-operator-7f66d77867-vjb5x                                  1/1     Running   5 (9d ago)      85d
ocs-metrics-exporter-5bc85467fb-wgxvg                             1/1     Running   0               85d
ocs-operator-f64f657c6-m64nd                                      1/1     Running   0               85d
odf-console-6bfc49c6c4-tg84h                                      1/1     Running   0               85d
odf-operator-controller-manager-6c84bf9db6-kfqp7                  2/2     Running   0               85d
rook-ceph-crashcollector-ip-172-18-60-239.saccap.int-6bb8c8jz5m   1/1     Running   0               85d
rook-ceph-crashcollector-ip-172-18-61-115.saccap.int-75597nshwd   1/1     Running   0               85d
rook-ceph-crashcollector-ip-172-18-62-30.saccap.int-856568mp46s   1/1     Running   0               85d
rook-ceph-mds-ocs-storagecluster-cephfilesystem-a-5745c9f44v6dj   2/2     Running   0               85d
rook-ceph-mds-ocs-storagecluster-cephfilesystem-b-6ddfc5d7pm87c   2/2     Running   0               85d
rook-ceph-mgr-a-75f796f966-hjtx7                                  2/2     Running   0               85d
rook-ceph-mon-a-5dc94f7b7c-qqb4t                                  2/2     Running   0               85d
rook-ceph-mon-b-59b885d8cc-9z8r4                                  2/2     Running   0               85d
rook-ceph-mon-c-556986d775-27dcr                                  2/2     Running   0               85d
rook-ceph-operator-796c9f8494-z8sxk                               1/1     Running   0               85d
rook-ceph-osd-0-d88c5f797-sxbdn                                   2/2     Running   0               85d
rook-ceph-osd-1-b5b8c75f8-s4cp2                                   2/2     Running   0               85d
rook-ceph-osd-2-698f77d8c8-5jxzd                                  2/2     Running   0               85d
rook-ceph-tools-566f66f588-wssbl                                  1/1     Running   0               7d3h
----

=== Verify that Ceph Cluster health status is OK

Deploy the Rook-Ceph Toobox pod. This pod can access Ceph in a similar fasion to using ssh to access a Ceph node.

[source,shell]]
----
$ oc patch OCSInitialization ocsinit -n openshift-storage --type json --patch  '[{ "op": "replace", "path": "/spec/enableCephTools", "value": true }]'
----

After the rook-ceph-tools pod is running, access the toolbox by running a remote shell in the pod:

[source,shell]
----
$ TOOLS_POD=$(oc get pods -n openshift-storage -l app=rook-ceph-tools -o name)
$ oc rsh -n openshift-storage $TOOLS_POD
----

* In the ceph tool pod, run ceph status, ceph osd tree, and ceph df to ensure proper number of OSDs are present, and Health status is OK.
** for this deployment, three 4TB osds are expected

Non-Production Cluster

image::../pdf/images/odf/nonprod/nonprod_ceph_status.png[]
image::../pdf/images/odf/nonprod/nonprod_ceph_osd_tree.png[]
image::../pdf/images/odf/nonprod/nonprod_ceph_df.png[]

Production Cluster

image::../pdf/images/odf/prod/prod_ceph_status.png[]
image::../pdf/images/odf/prod/prod_ceph_osd_tree.png[]
image::../pdf/images/odf/prod/prod_ceph_df.png[]

=== Ensure RBD and FS PVCs can be bound

Non-Production Cluster

image::../pdf/images/odf/nonprod/nonprod_pvc_created_1.png[]
image::../pdf/images/odf/nonprod/nonprod_pvc_created_2.png[]

Production Cluster

image::../pdf/images/odf/prod/prod_pvc_created_1.png[]
image::../pdf/images/odf/prod/prod_pvc_created_2.png[]

=== Ensure PVC expansion is possible

Non-Production Cluster

[source,shell]
----
TBD
----

Production Cluster
image::../pdf/images/odf/prod/prod_pvc_expanded.png[]
